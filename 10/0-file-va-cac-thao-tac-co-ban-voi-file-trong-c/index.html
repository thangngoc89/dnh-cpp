<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" href="/phenomic.browser.ec1f55bca248044d256a.css" /><meta data-react-helmet="true" property="og:site_name" content="dnh-cpp"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="10.0 File và các thao tác cơ bản với file trong C"/><meta data-react-helmet="true" property="og:url" content="/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/"/><meta data-react-helmet="true" property="og:description" content="int main() { 	const char filePath = &quot;C:/Users/ADMIN/Desktop/my_document.txt&quot;; 	FILE file; } file = fopen(filePath, &quot;r&quot;); if (!file)…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="10.0 File và các thao tác cơ bản với file trong C"/><meta data-react-helmet="true" name="twitter:creator" content="@undefined"/><meta data-react-helmet="true" name="twitter:description" content="int main() { 	const char filePath = &quot;C:/Users/ADMIN/Desktop/my_document.txt&quot;; 	FILE file; } file = fopen(filePath, &quot;r&quot;); if (!file)…"/><meta data-react-helmet="true" name="description" content="int main() { 	const char filePath = &quot;C:/Users/ADMIN/Desktop/my_document.txt&quot;; 	FILE file; } file = fopen(filePath, &quot;r&quot;); if (!file)…"/><title data-react-helmet="true">10.0 File và các thao tác cơ bản với file trong C</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="144x144" href="//daynhauhoc.s3.amazonaws.com/36ee34de6c73f268424fceaef858c5428d8fb2a976.ico"/><link data-react-helmet="true" rel="icon" type="image/png" href="//daynhauhoc.s3.amazonaws.com/352ac0c01c6e4e15be7ee46da53668513fd4e93736.png"/><link data-react-helmet="true" rel="apple-touch-icon" type="image/png" href="//daynhauhoc.s3.amazonaws.com/352ac0c01c6e4e15be7ee46da53668513fd4e93736.png"/></head><body><div id="phenomic"><div class="_2lE56" data-reactroot="" data-reactid="1" data-react-checksum="-1748323202"><!-- react-empty: 2 --><div class="_1Ih7a" data-reactid="3"><div data-reactid="4"><div data-reactid="5"><!-- react-empty: 6 --><div class="_1G2C6 _3fTO1" data-reactid="7"><div class="aCd9j" data-reactid="8"><a href="https://github.com/daynhauhoc/cppcoban" target="_blank" data-hint="Fork on Github" class="hint--bottom-left _2dICi" data-reactid="9"><span class="SVGInline" data-reactid="10"><svg class="SVGInline-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.6.11.793-.26.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.238 1.84 1.238 1.07 1.834 2.806 1.304 3.49.997.108-.776.42-1.306.763-1.605-2.665-.305-5.467-1.334-5.467-5.93 0-1.312.47-2.382 1.236-3.222-.125-.303-.536-1.524.116-3.176 0 0 1.008-.322 3.3 1.23A11.51 11.51 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.29-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.236 1.91 1.236 3.22 0 4.61-2.807 5.625-5.48 5.922.43.372.824 1.102.824 2.222v3.293c0 .32.192.694.8.576C20.567 21.796 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg></span></a><a href="https://www.facebook.com/sharer/sharer.php?u=" target="_blank" data-hint="Share on Facebook" class="hint--bottom-left _2dICi" data-reactid="11"><span class="SVGInline" data-reactid="12"><?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg class="SVGInline-svg" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="430.113px" height="430.114px" viewBox="0 0 430.113 430.114" style="enable-background:new 0 0 430.113 430.114;"
	 xml:space="preserve">
<g>
	<path id="Facebook" d="M158.081,83.3c0,10.839,0,59.218,0,59.218h-43.385v72.412h43.385v215.183h89.122V214.936h59.805
		c0,0,5.601-34.721,8.316-72.685c-7.784,0-67.784,0-67.784,0s0-42.127,0-49.511c0-7.4,9.717-17.354,19.321-17.354
		c9.586,0,29.818,0,48.557,0c0-9.859,0-43.924,0-75.385c-25.016,0-53.476,0-66.021,0C155.878-0.004,158.081,72.48,158.081,83.3z"/>
</g>
</svg></span></a></div></div><article class="markdown-body" data-reactid="13"><h1 data-reactid="14">10.0 File và các thao tác cơ bản với file trong C</h1><div data-reactid="15"><div class="phenomic-BodyContainer" data-reactid="16"><html><head></head><body><h3>Chào các bạn đang theo dõi khóa học lập trình trực tuyến ngôn ngữ C++.</h3>

<p>Trong bài học này, chúng ta sẽ cùng tìm hiểu về các khái niệm về File và cách để thao tác với File trong ngôn ngữ lập trình C/C++.</p>

<h3>File</h3>

<p>Nếu máy tính của các bạn có ổ cứng, hoặc các bạn có USB hoặc bất kỳ thiết bị lưu trữ nào thì chắc chắn các bạn đã từng làm việc với File. Khi các bạn chơi một game offline, thông tin nhân vật, điểm số, ... sẽ được lưu trữ trong File để khi chương trình game bị tắt đi thì các bạn không phải chơi lại từ đầu. Khi các bạn cài đặt cấu hình cho một phần mềm và tắt đi, cấu hình đó được lưu vào File để lần làm việc tiếp theo sẽ sử dụng. Hay khi các bạn biên dịch một chương trình C++ trên Visual Studio 2015, C++ Compiler của Visual studio sẽ đọc mã nguồn các bạn đã viết trong các file <code>*.cpp</code> để kiểm tra lỗi và dịch chúng sang file <code>*.obj</code>. Ngay cả hệ điều hành Windows mà các bạn đang sử dụng cũng là tập hợp của rất nhiều file được lưu trữ bên trong phân vùng ổ đĩa dùng cho Hệ điều hành...</p>

<p>Đó là một vài ví dụ cho thấy sự tồn tại của File trong máy tính. Vậy thì chúng ta đã thao tác với những File đó như thế nào?</p>

<p>Làm việc với File chúng ta chỉ có các thao tác cơ bản như: tạo file mới, đọc dữ liệu trong file, ghi dữ liệu vào file, xóa file... Và chúng ta làm điều đó hằng ngày, khi chúng ta chơi game, khi xem phim trên máy tính, ... và ngay cả khi chúng ta lập trình, mã nguồn của chúng ta được lưu xuống File mã nguồn khi nhấn tổ hợp phím Ctrl + S.</p>

<p><strong>Theo định nghĩa trên Wikipedia về computer file</strong>: Một file trên máy tính là một tài nguyên dùng để lưu trữ thông tin lâu dài, sử dụng cho các chương trình máy tính.</p>

<p>Cũng giống như việc lưu trữ dữ liệu tạm thời trên RAM, file cũng lưu trữ dữ liệu dưới dạng nhị phân (0 hoặc 1), tuy nhiên tùy vào định dạng của file và cách chuyển đổi của mỗi phần mềm đọc file mà chúng ta có những kiểu thông tin khác nhau. Ví dụ file .png thì được chuyển về dạng hình ảnh, phần mềm Microsoft Word chuyển dãy bit nhị phân về dạng text...</p>

<p><strong>Trong ngôn ngữ lập trình C/C++</strong>: File là kiểu đối tượng, nó xác định một stream và chứa các thông tin cần thiết để điều khiển, bao gồm một con trỏ trỏ đến buffer của nó, các chỉ mục và trạng thái của nó.</p>

<p>Các bạn có thể hiểu File (trong ngôn ngữ lập trình C/C++) là một kiểu đối tượng mà thông qua nó chúng ta có thể thao tác với dữ liệu được lưu trữ bên trong File (chứ không phải là một File trên máy tính).</p>

<p>Để các bạn không bị nhầm lẫn, mình đang nói về kiểu dữ liệu FILE được định nghĩa trong thư viện cstdio (hay stdio.h) mà có thể các bạn đã từng học trong ngôn ngữ C. Chúng ta sẽ học cách sử dụng các Stream để thao tác với file thay vì sử dụng kiểu dữ liệu FILE trong các bài học sau, nhưng mình nghĩ kiểu dữ liệu FILE trong thư viện cstdio cũng có những ưu điểm riêng của nó nên mình không bỏ qua bài học này.</p>

<h3>Làm việc với FILE type trong C/C++</h3>

<p>Trong bài học này, mình sẽ hướng dẫn các bạn thực hiện các thao tác như mở file, đọc và ghi dữ liệu trong file... Chúng ta cần làm việc trên một file cụ thể nào đó nên mình sẽ tạo một file với tên file là <code>my_document.txt</code> trong thư mục Desktop có đường dẫn trên máy mình là: <code>C:/Users/ADMIN/Desktop/my_document.txt</code></p>

<p>Để làm việc với file, chúng ta cần biết vị trí của file (thông qua đường dẫn) để con trỏ kiểu FILE có thể tạo được luồng dữ liệu giữa người dùng và file trên thiết bị lưu trữ.</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;iostream></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;cstdio></span></span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
	FILE *file;
	
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>

<h4>Open file</h4>

<p>Để mở một file, các bạn có thể sử dụng hàm fopen được định nghĩa trong thư viện cstdio:</p>

<p></p><pre><code class="hljs language-stata"><span class="hljs-keyword">FILE</span>* fopen(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *<span class="hljs-keyword">file</span>, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *mode);</code></pre>

<p>Hàm fopen cho phép tạo một kết nối đến file với đường dẫn được lưu trữ bởi tham số thứ nhất. Nếu file không tồn tại, file mới sẽ được tạo ra với tên file như trong đường dẫn. Tham số thứ hai xác định kiểu truy cập vào file. Bảng dưới đây liệt kê các mode dùng để mở một file trong C:</p>

<p></p><div class="lightbox-wrapper"><a href="https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/0.png?raw=true" class="lightbox" title="0.png?raw=true"><img src="https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/0.png?raw=true" width="690" height="341"><div class="meta">
<span class="filename">0.png?raw=true</span><span class="informations">753x373</span><span class="expand"></span>
</div></a></div><p></p>

<p>Nếu mở file thành công, một địa chỉ của một đối tượng kiểu FILE sẽ được trả về. Nếu mở file thất bại thì trả về NULL.</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
FILE *file;

file = fopen(filePath, <span class="hljs-string">"r"</span>);
<span class="hljs-keyword">if</span> (!file)
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"Can not open this file"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
<span class="hljs-keyword">else</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"File is opened"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;</code></pre>

<p>Trong đoạn chương trình trên, mình mở file đã tạo sẵn trong thư mục Desktop với mode "r" (chỉ dùng để đọc dữ liệu).</p>

<p><strong><em>Các bạn cần lưu ý rằng file trong máy tính tồn tại ở 2 dạng: file văn bản và file bị mã hóa.</em></strong></p>

<p>File văn bản là những file mà các bạn có thể đọc được khi mở bằng các trình soạn thảo văn bản, thông thường những file này được định dạng Unicode (hoặc những định dạng dùng cho văn bản khác). </p>

<p>File bị mã hóa (thường gọi là file nhị phân) không thể đọc được khi mở file bằng các trình soạn thảo văn bản. Sử dụng File bị mã hóa giúp chúng ta bảo mật dữ liệu tốt hơn File văn bản.</p>

<p>Các mode mà mình đã liệt kê ở bảng trên chỉ dùng để thao tác với file văn bản. Khi thao tác với file bị mã hóa (file nhị phân), các bạn cần nối thêm kí tự b (binary) vào ngay sau mode mà các bạn chọn. Ví dụ: "rb", "wb", "ab", "rb+", "r+b", ...</p>

<h4>Close file</h4>

<p>Sau khi thao tác với file xong, các bạn cần đóng file lại để tránh những lỗi phát sinh ngoài ý muốn. Để đóng file, chúng ta sử dụng hàm fclose:</p>

<p></p><pre><code class="hljs language-fortran"><span class="hljs-built_in">int</span> fclose(<span class="hljs-keyword">FILE</span> *<span class="hljs-keyword">file</span>);</code></pre>

<p>Trong đó, file là con trỏ được dùng để lưu trữ địa chỉ của đối tượng FILE đang mở. Nếu đóng file thành công thì trả về giá trị 0, ngược lại trả về <strong>EOF</strong> (End of file).</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
FILE *file;

file = fopen(filePath, <span class="hljs-string">"r"</span>);
<span class="hljs-keyword">if</span> (!file)
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"Can not open this file"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
<span class="hljs-keyword">else</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"File is opened"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;

fclose(file);</code></pre>

<p>Hàm fclose sẽ giải phóng tất cả dữ liệu chưa được xử lý trên file nếu chúng vẫn còn lưu trong buffer, đóng file lại, và giải phóng tất cả vùng nhớ mà đối tượng FILE sử dụng.</p>

<h4>Write data to file</h4>

<p>Các bạn đã thực hiện được thao tác mở và đóng file, nhưng lúc này, file mới tạo ra vẫn chưa có dữ liệu nên mình sẽ thực hiện thao tác ghi dữ liệu vào file trước. Để mở file cho chế độ ghi file, chúng ta có các mode "w", "r+", "w+", "a", "a+". Mình chỉ muốn ghi dữ liệu nên mình sẽ chọn mode "w".</p>

<p>Nhưng trước hết, chúng ta nên tách thao tác ghi file ra một hàm riêng có dạng:</p>

<p></p><pre><code class="hljs language-gradle"><span class="hljs-keyword">void</span> writeToFile(<span class="hljs-keyword">FILE</span> *<span class="hljs-keyword">file</span>);</code></pre>

<p>Hàm này sẽ được gọi sau khi mở file và trước khi đóng file.</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
FILE *file;

file = fopen(filePath, <span class="hljs-string">"w"</span>);
<span class="hljs-keyword">if</span> (!file)
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"Can not open this file"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
<span class="hljs-keyword">else</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"File is opened"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	
writeToFile(file);

fclose(file);</code></pre>

<p>Bây giờ, chúng ta chỉ quan tâm đến nội dung bên trong hàm writeToFile.</p>

<p>Để ghi dữ liệu vào file, chúng ta có các hàm đã được định nghĩa sẵn trong thư viện cstdio như sau:</p>

<ul>
<li>
<p><strong>fputc:</strong></p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fputc</span><span class="hljs-params">(<span class="hljs-keyword">int</span> c, FILE *f)</span></span>;</code></pre>
<p>Hàm fputc sẽ ghi ký tự có mã ASCII là c vào file được trỏ đến bởi con trỏ f. Giá trị trả về là EOF nếu ghi dữ liệu thất bại, trả về mã ASCII của kí tự được ghi vào nếu thực hiện thành công.</p>
<p>Ví dụ:</p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">writeToFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">int</span> c = fputc(<span class="hljs-string">'A'</span>, file);
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; c &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
}</code></pre>
<p>Sau khi chạy chương trình xong, các bạn mở file my_document.txt trên Desktop lên sẽ thấy kí tự 'A' đã được ghi vào, đồng thời trên console cũng in ra mã ASCII của kí tự 'A'.</p>
</li>
<li>
<p><strong>fputs:</strong></p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fputs</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *str, FILE *f)</span></span>;</code></pre>
<p>Hàm fputs ghi một C-Style string vào file được trỏ đến bởi con trỏ f cho đến khi gặp kí tự '\0'.</p>
<p>Ví dụ:</p>
<p></p>
<pre><code class="hljs language-gradle"><span class="hljs-keyword">void</span> writeToFile(<span class="hljs-keyword">FILE</span> *<span class="hljs-keyword">file</span>)
{
	<span class="hljs-keyword">int</span> c = fputs(<span class="hljs-string">"hello"</span>, <span class="hljs-keyword">file</span>);
}</code></pre>
<p>Sau khi chạy chương trình, các bạn mở file my_document.txt ở thư mục Desktop sẽ thấy kí tự 'A' lúc nãy không còn nữa, thay vào đó là chuỗi kí tự "hello".</p>
</li>
<li>
<p><strong>fprintf:</strong></p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fprintf</span><span class="hljs-params">(FILE *f, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *format, ...)</span></span>;</code></pre>
<p>Hàm fprintf tương tự hàm printf trong ngôn ngữ C. Tuy nhiên, hàm printf được mặc định liên kết với đối tượng FILE có tên là stdout nên sử dụng hàm printf sẽ ghi nội dung ra màn hình.</p>
<p>Hàm printf tương đương với cách sử dụng <code>fprintf(stdout, format, ...)</code>.</p>
<p>Nhưng lúc này, chúng ta muốn ghi dữ liệu vào file nên chúng ta sẽ truyền vào tham số thứ nhất là một con trỏ kiểu FILE khác với các đối tượng stdout, stdin hay stderr.</p>
<p>Cách định dạng cho tham số format trong hàm fprintf cũng giống như hàm printf, các bạn có thể tham khảo ở đây: </p>
<p><a href="http://www.cplusplus.com/reference/cstdio/printf/">http://www.cplusplus.com/reference/cstdio/printf/</a></p>
<p>Ví dụ:</p>
<p></p>
<pre><code class="hljs language-gradle"><span class="hljs-keyword">void</span> writeToFile(<span class="hljs-keyword">FILE</span> *<span class="hljs-keyword">file</span>)
{
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &#x3C;= <span class="hljs-number">5</span>; i++)
		fprintf(<span class="hljs-keyword">file</span>, <span class="hljs-string">"This is an example line %d\n"</span>, i);
}</code></pre>
<p>Sau khi chạy đoạn chương trình trên, các bạn mở lại file my_document.txt trong thư mục Desktop để xem lại kết quả.</p>
<p>Sử dụng hàm fprintf giúp chúng ta dễ dàng định dạng cho dữ liệu được ghi vào file, từ đó có thể ghi nhiều dòng vào file bằng vòng lặp nếu các dòng đó có cùng định dạng.</p>
</li>
</ul>

<h4>Read data from file</h4>

<p>Đầu tiên mình sẽ tạo một hàm khác có tên là readFromFile như sau:</p>

<p></p><pre><code class="hljs language-gradle"><span class="hljs-keyword">void</span> readFromFile(<span class="hljs-keyword">FILE</span> *<span class="hljs-keyword">file</span>)
{
	<span class="hljs-comment">//read data</span>
}</code></pre>

<p>Để làm các ví dụ trong phần này, mình sẽ gọi hàm này sau khi đã gọi hàm writeToFile.</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
FILE *file;

file = fopen(filePath, <span class="hljs-string">"w+"</span>);
<span class="hljs-keyword">if</span> (!file)
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"Can not open this file"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
<span class="hljs-keyword">else</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"File is opened"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;

writeToFile(file);
readFromFile(file);

fclose(file);</code></pre>

<p>Lúc này, file của chúng ta được mở để vừa đọc và ghi file, nên mình sẽ sử dụng mode "w+" (hoặc "r+").</p>

<p>Và dưới đây là một số hàm được định nghĩa sẵn trong thư viện cstdio hỗ trợ chúng ta đọc dữ liệu văn bản từ file.</p>

<ul>
<li>
<p><strong>fgetc:</strong></p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fgetc</span><span class="hljs-params">(FILE *f)</span></span>;</code></pre>
<p>Hàm fgetc đọc ra một kí tự trong file, internal file position indicator sẽ chuyển đến kí tự tiếp theo. Giá trị trả về là mã ASCII của kí tự đã đọc được.</p>
<p>Ví dụ:</p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">readFromFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; (<span class="hljs-keyword">char</span>)fgetc(file) &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
}</code></pre>
</li>
<li>
<p><strong>fgets:</strong></p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">fgets</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *buf, <span class="hljs-keyword">int</span> n, FILE *f)</span></span>;</code></pre>
<p>Hàm fgets đọc từ file ra (n - 1) kí tự, việc đọc dữ liệu sẽ bị dừng nếu đọc được kí tự new line '\n' hoặc EOF. Chuỗi kí tự đọc được sẽ lưu vào vùng nhớ được quản lý bởi con trỏ buf, nếu đọc dữ liệu thành công thì trả về địa chỉ của buf, ngược lại trả về NULL.</p>
<p>Ví dụ:<br></p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">readFromFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">char</span> str[<span class="hljs-number">255</span>];
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; fgets(str, <span class="hljs-number">255</span>, file) &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; str &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
}</code></pre>
<p>Kết quả đọc file được lưu vào mảng kí tự str.</p>
</li>
<li>
<p><strong>fscanf:</strong></p>
<p>Tương tự như ghi dữ liệu vào file với định dạng cho trước, chúng ta cũng có thể đọc dữ liệu từ file với một định dạng nào đó.</p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fscanf</span><span class="hljs-params">(FILE *f, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *format, ...)</span></span>;</code></pre>
<p>fscanf cũng hoạt động tương tự hàm scanf trong ngôn ngữ C, tuy nhiên, hàm scanf được thiết lập liên kết mặc định đến file stdin. Như vậy, <code>fscanf(stdin, format, ...)</code> sẽ tương đương với <code>scanf(format, ...)</code>.</p>
<p>Hàm fscanf cũng hoạt động tương tự scanf nên các bạn có thể tham khảo thêm tại đây:</p>
<p><a href="http://www.cplusplus.com/reference/cstdio/scanf/">http://www.cplusplus.com/reference/cstdio/scanf/</a></p>
<p>Ví dụ:</p>
<p></p>
<pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">readFromFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">char</span> str[<span class="hljs-number">255</span>];
	<span class="hljs-built_in">fscanf</span>(file, <span class="hljs-string">"%[^\n]"</span>, str);
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; str &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
}</code></pre>
<p>Lưu ý, sử dụng hàm fscanf không khiến internal file position indicator di chuyển đến các vị trí tiếp theo nên chúng ta cần thêm một số kĩ thuật khác liên quan đến việc di chuyển con trỏ trong file (internal file position indicator).</p>
</li>
</ul>

<h4>Reposition stream position indicator</h4>

<p>Ghép các ví dụ ở trên lại, chúng ta có một chương trình đơn giản minh họa cho việc ghi file và đọc từng dòng dữ liệu (line by line) đã được ghi vào file như sau:</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;iostream></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;string></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;cstdio></span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">writeToFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &#x3C;= <span class="hljs-number">5</span>; i++)
		<span class="hljs-built_in">fprintf</span>(file, <span class="hljs-string">"This is an example line %d\n"</span>, i);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">readFromFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">char</span> str[<span class="hljs-number">255</span>];
	<span class="hljs-keyword">while</span> (fgets(str, <span class="hljs-number">255</span>, file) != <span class="hljs-literal">NULL</span>)
	{
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; str;
	}
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
	FILE *file;

	file = fopen(filePath, <span class="hljs-string">"w+"</span>);
	<span class="hljs-keyword">if</span> (!file)
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"Can not open this file"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	<span class="hljs-keyword">else</span>
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"File is opened"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;

	writeToFile(file);
	readFromFile(file);

	fclose(file);

	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>

<p>Tuy nhiên, kết quả cho ra màn hình không như mong muốn.</p>

<p>Nguyên nhân là khi chúng ta gọi hàm writeToFile và truyền vào đó con trỏ file, việc ghi file đã khiến internal file position indicator trỏ đến vị trí cuối cùng trong file. Sau khi quay trở lại hàm main, chúng ta tiếp tục gọi hàm readFromFile với cùng một con trỏ file. Như vậy, lúc chúng ta đọc file thì chúng ta lại bắt đầu đọc tại vị trí kết thúc file.</p>

<p>Để khắc phục điều này, chúng ta cần đóng con trỏ file lại và mở tạo một liên kết mới bằng hàm fopen với mode dùng để đọc file. Tuy nhiên, làm như vậy thì code xử lý của chúng ta sẽ dài hơn. Thư viện cstdio đã hỗ trợ cho chúng ta hàm fseek để thay đổi vị trí trỏ đến trong file của internal file position indicator.</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fseek</span><span class="hljs-params">(FILE *f, <span class="hljs-keyword">long</span> <span class="hljs-keyword">int</span> offset, <span class="hljs-keyword">int</span> origin)</span></span>;</code></pre>

<p>Trong đó: </p>

<ul>
<li><p>f là con trỏ trỏ đến đối tượng FILE đang mở.</p></li>
<li><p>offset là số bytes được cộng thêm tính từ vị trí origin.</p></li>
<li>
<p>origin là địa điểm đặt con trỏ trong file:</p>
<p><img src="https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/1.png?raw=true" width="467" height="124"></p>
</li>
</ul>

<p>Như vậy, sau khi gọi hàm writeToFile xong, chúng ta cần di chuyển internal file position indicator về đầu file bằng cách như sau:</p>

<p></p><pre><code class="hljs language-lisp">writeToFile(<span class="hljs-name">file</span>)<span class="hljs-comment">;</span>
fseek(<span class="hljs-name">file</span>, <span class="hljs-number">0</span>, SEEK_SET)<span class="hljs-comment">;</span>
readFromFile(<span class="hljs-name">file</span>)<span class="hljs-comment">;</span></code></pre>

<p>Sau đó chạy chương trình thì thấy dữ liệu in ra màn hình đúng như những gì chúng ta đã ghi vào file.</p>

<h4>Determine size of content of file</h4>

<p>Đôi khi chúng ta cần đọc toàn bộ nội dung của file vào một vùng nhớ trên Heap, chúng ta sẽ cần biết trước kích thước nội dung có trong file để cấp phát đủ vùng nhớ trước khi đọc file. Thư viện cstdio chỉ cung cấp cho chúng ta hàm ftell:</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-keyword">long</span> <span class="hljs-keyword">int</span> <span class="hljs-title">ftell</span><span class="hljs-params">(FILE *f)</span></span>;</code></pre>

<p>Hàm này sẽ trả về vị trí của file indicator đang trỏ đến trong file (số bytes của nội dung file mà indicator đã duyệt qua).</p>

<p>Như vậy, các bạn có thể đọc kích thước của nội dung trong file bằng cách dịch internal file position indicator về vị trí cuối cùng trong file rồi gọi hàm ftell:</p>

<p></p><pre><code class="hljs language-fortran">__int64 size_of_file(<span class="hljs-keyword">FILE</span> *<span class="hljs-keyword">file</span>)
{
	fseek(<span class="hljs-keyword">file</span>, <span class="hljs-number">0</span>, SEEK_END);
	__int64 <span class="hljs-built_in">size</span> = ftell(<span class="hljs-keyword">file</span>);
	fseek(<span class="hljs-keyword">file</span>, <span class="hljs-number">0</span>, SEEK_SET);
	
	<span class="hljs-keyword">return</span> <span class="hljs-built_in">size</span>;
}</code></pre>

<h4>Binary I/O functions</h4>

<p>Dưới đây là 2 hàm dùng để đọc và ghi dữ liệu chỉ dùng cho mode nhị phân.</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-keyword">size_t</span> fwrite(<span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *ptr, <span class="hljs-keyword">size_t</span> size, <span class="hljs-keyword">size_t</span> count, FILE *f);</code></pre>

<p>Hàm fwrite dùng để ghi dãy bit trong vùng nhớ được quản lý bởi con trỏ ptr vào file đang được trỏ bởi f, size là số bytes sẽ copy từ vùng nhớ của ptr và count là số lần ghi vùng nhớ đó xuống file.</p>

<p>Hàm fwrite không quan tâm vùng nhớ của các bạn có định dạng gì, nó quan tâm kích thước vùng nhớ cần đọc và cứ thế copy tất cả các bits và file, mỗi lần sẽ copy 1 block of bit. </p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-keyword">size_t</span> fread(<span class="hljs-keyword">void</span> *ptr, <span class="hljs-keyword">size_t</span> size, <span class="hljs-keyword">size_t</span> count, FILE *f);</code></pre>

<p>Hàm fread sẽ copy count lần block of bits có kích thước là size, đưa vào vùng nhớ được trỏ đến bởi ptr, từ file đang được quản lý bởi f.</p>

<p>Sau khi gọi hàm fread, internal file position indicator sẽ di chuyển tới (size * count) bytes từ vị trí bắt đầu đọc file.</p>

<p>Ví dụ:</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;iostream></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;cstring></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;cstdio></span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">writeToFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">char</span> *s = <span class="hljs-string">"Hello everyone!"</span>;
	fwrite(s, <span class="hljs-built_in">strlen</span>(s), <span class="hljs-number">1</span>, file);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">readFromFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">void</span> *ptr = <span class="hljs-keyword">operator</span> <span class="hljs-keyword">new</span>(<span class="hljs-number">255</span>); <span class="hljs-comment">//allocate 255 bytes on Heap</span>
	fread(ptr, <span class="hljs-number">255</span>, <span class="hljs-number">1</span>, file);
	(<span class="hljs-keyword">static_cast</span>&#x3C;<span class="hljs-keyword">char</span> *>(ptr))[<span class="hljs-number">255</span>] = <span class="hljs-string">'\0'</span>;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-keyword">static_cast</span>&#x3C;<span class="hljs-keyword">char</span> *>(ptr) &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
	FILE *file;

	file = fopen(filePath, <span class="hljs-string">"w+b"</span>); <span class="hljs-comment">//use binary mode</span>
	<span class="hljs-keyword">if</span> (!file)
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"Can not open this file"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	<span class="hljs-keyword">else</span>
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"File is opened"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;

	writeToFile(file);
	fseek(file, <span class="hljs-number">0</span>, SEEK_SET);
	readFromFile(file);

	fclose(file);

	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>

<p>Chạy chương trình trên cho ra kết quả là rất nhiều kí tự rác.</p>

<p>Như các bạn thấy, hàm fread đọc đúng 255 bytes trong file để đưa vào vùng nhớ của ptr nên các giá trị thừa xuất hiện. Trong trường hợp này, dùng hàm fread và fwrite không phù hợp. Hàm fread và fwrite thường được dùng để đọc và ghi dữ liệu kiểu struct vào file.</p>

<h4>Write and read structs</h4>

<p>Mình vẫn giữ nguyên cấu trúc chương trinh như trên và chỉ thay đổi code trong hàm writeToFile và readFromFile.</p>

<p>Trước hết, mình tạo một struct đơn giản như sau:</p>

<p></p><pre><code class="hljs language-abnf">struct Employee
{
	__int32 ID<span class="hljs-comment">;</span>
	char name[<span class="hljs-number">50</span>]<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span></code></pre>

<p>Kích thước của struct này là 56 bytes (không phải là 54 bytes do cách tổ chức dữ liệu trong struct còn liên quan đến khái niệm struct alignment). Như vậy là mỗi unit có kiểu Employee được tạo ra đều chiếm một vùng nhớ có kích thước 56 bytes.</p>

<p>Các bạn thử tưởng tượng nếu chúng ta sử dụng các hàm ghi file như fputs, fprintf... thì kích thước tên của mỗi người sẽ khác nhau dẫn đến chúng ta không có một định dạng chung để dễ quản lý nhiều Employee trong file. Việc đặt chúng vào trong 1 struct giúp chúng ta đọc và ghi file dễ dàng hơn nhiều.</p>

<p>Dưới đây là một đoạn chương trình mẫu cho việc xử lý file để quản lý 3 Employee:</p>

<p></p><pre><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;iostream></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;cstring></span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&#x3C;cstdio></span></span>

<span class="hljs-keyword">struct</span> Employee
{
	<span class="hljs-number">__</span>int32 ID;
	<span class="hljs-keyword">char</span> name[<span class="hljs-number">50</span>];
};

Employee emps[<span class="hljs-number">3</span>] =
{
	{ <span class="hljs-number">1</span>, <span class="hljs-string">"Le Tran Dat"</span> },
	{ <span class="hljs-number">2</span>, <span class="hljs-string">"Ngo Doan Tuan"</span> },
	{ <span class="hljs-number">3</span>, <span class="hljs-string">"Le Dinh Huy"</span> }
};

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">writeToFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &#x3C; <span class="hljs-number">3</span>; i++)
	{
		fwrite(&#x26;emps[i], <span class="hljs-keyword">sizeof</span>(Employee), <span class="hljs-number">1</span>, file);
	}
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">readFromFile</span><span class="hljs-params">(FILE *file)</span>
</span>{
	Employee emp;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &#x3C; <span class="hljs-number">3</span>; i++)
	{
		fread(&#x26;emp, <span class="hljs-keyword">sizeof</span>(Employee), <span class="hljs-number">1</span>, file);
		
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; emp.ID &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; emp.name &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"================================"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	}
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *filePath = <span class="hljs-string">"C:/Users/ADMIN/Desktop/my_document.txt"</span>;
	FILE *file;

	file = fopen(filePath, <span class="hljs-string">"w+b"</span>); <span class="hljs-comment">//use binary mode</span>
	<span class="hljs-keyword">if</span> (!file)
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"Can not open this file"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	<span class="hljs-keyword">else</span>
		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &#x3C;&#x3C; <span class="hljs-string">"File is opened"</span> &#x3C;&#x3C; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;

	writeToFile(file);
	fseek(file, <span class="hljs-number">0</span>, SEEK_SET);
	readFromFile(file);

	fclose(file);

	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>

<p>Các bạn chạy thử đoạn chương trình trên để xem kết quả.</p>

<p>Bây giờ chúng ta cùng mở file my_document.txt trong thư mục Desktop để xem thử nội dung trong file như thế nào:</p>

<p></p><div class="lightbox-wrapper"><a href="https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/2.png?raw=true" class="lightbox" title="2.png?raw=true"><img src="https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/2.png?raw=true" width="563" height="500"><div class="meta">
<span class="filename">2.png?raw=true</span><span class="informations">642x570</span><span class="expand"></span>
</div></a></div><p></p>

<p>Vậy là nội dung file đã bị mã hóa dưới dạng nhị phân nên không thể đọc hoàn toàn nội dung lưu trong file được.</p>

<p>Việc sử dụng hàm fread và fwrite cho các kiểu dữ liệu struct giúp chúng ta thao tác dễ dàng hơn khi kích thước của các biến struct là giống nhau.</p>

<hr>

<p><strong>Hẹn gặp lại các bạn trong bài học tiếp theo trong khóa học lập trình C++ hướng thực hành.</strong></p>

<p>Mọi ý kiến đóng góp hoặc thắc mắc có thể đặt câu hỏi trực tiếp tại diễn đàn.</p>

<p><a title="DayNhauHoc" class="onebox" target="_blank">www.daynhauhoc.com</a></p>
</body></html></div></div></article><div id="discourse-comments" data-reactid="17"></div></div></div></div><div class="_30zqN _1M-6l" data-reactid="18"><ul style="list-style:none;background-color:transparent;margin:0;padding:0;color:#242a31;font-family:lucida grande ,tahoma,verdana,arial,sans-serif;font-size:14px;" data-reactid="19"><li style="position:relative;" data-reactid="20"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="21"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="22"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="23"><svg height="14" width="14" data-reactid="24"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="25"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="26"><div style="line-height:24px;vertical-align:middle;font-size:1.5em;font-weight:300;font-family:Source Sans Pro,sans-serif;margin-bottom:1em;" data-reactid="27">Khóa học C++</div></div></div><span data-reactid="28"><ul style="list-style:none;padding-left:19px;" data-reactid="29"><li style="position:relative;" data-reactid="30"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="31"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="32"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="33"><svg height="14" width="14" data-reactid="34"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="35"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="36"><div style="line-height:24px;vertical-align:middle;" data-reactid="37">Giới thiệu tổng quan khóa học</div></div></div><span data-reactid="38"></span></li><li style="position:relative;" data-reactid="39"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="40"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="41"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="42"><svg height="14" width="14" data-reactid="43"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="44"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="45"><div style="line-height:24px;vertical-align:middle;" data-reactid="46">C++ cơ bản</div></div></div><span data-reactid="47"></span></li><li style="position:relative;" data-reactid="48"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="49"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="50"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="51"><svg height="14" width="14" data-reactid="52"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="53"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="54"><div style="line-height:24px;vertical-align:middle;" data-reactid="55">Cấu trúc rẽ nhánh</div></div></div><span data-reactid="56"></span></li><li style="position:relative;" data-reactid="57"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="58"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="59"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="60"><svg height="14" width="14" data-reactid="61"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="62"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="63"><div style="line-height:24px;vertical-align:middle;" data-reactid="64">Cấu trúc vòng lặp</div></div></div><span data-reactid="65"></span></li><li style="position:relative;" data-reactid="66"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="67"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="68"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="69"><svg height="14" width="14" data-reactid="70"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="71"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="72"><div style="line-height:24px;vertical-align:middle;" data-reactid="73">Nâng cao về biến, kiểu dữ liệu</div></div></div><span data-reactid="74"></span></li><li style="position:relative;" data-reactid="75"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="76"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="77"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="78"><svg height="14" width="14" data-reactid="79"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="80"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="81"><div style="line-height:24px;vertical-align:middle;" data-reactid="82">Kiểu dữ liệu mảng</div></div></div><span data-reactid="83"></span></li><li style="position:relative;" data-reactid="84"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="85"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="86"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="87"><svg height="14" width="14" data-reactid="88"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="89"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="90"><div style="line-height:24px;vertical-align:middle;" data-reactid="91">Kiểu chuỗi kí tự</div></div></div><span data-reactid="92"></span></li><li style="position:relative;" data-reactid="93"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="94"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="95"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="96"><svg height="14" width="14" data-reactid="97"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="98"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="99"><div style="line-height:24px;vertical-align:middle;" data-reactid="100">Cơ bản về Function</div></div></div><span data-reactid="101"></span></li><li style="position:relative;" data-reactid="102"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="103"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="104"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="105"><svg height="14" width="14" data-reactid="106"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="107"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="108"><div style="line-height:24px;vertical-align:middle;" data-reactid="109">Con trỏ</div></div></div><span data-reactid="110"></span></li><li style="position:relative;" data-reactid="111"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="112"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="113"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="114"><svg height="14" width="14" data-reactid="115"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="116"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="117"><div style="line-height:24px;vertical-align:middle;" data-reactid="118">Kiểu dữ liệu tự định nghĩa</div></div></div><span data-reactid="119"></span></li><li style="position:relative;" data-reactid="120"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="121"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="122"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="123"><svg height="14" width="14" data-reactid="124"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="125"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="126"><div style="line-height:24px;vertical-align:middle;" data-reactid="127">Nhập, xuất, streams (Input &amp; Output)</div></div></div><span data-reactid="128"></span></li><li style="position:relative;" data-reactid="129"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="130"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="131"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="132"><svg height="14" width="14" data-reactid="133"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="134"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="135"><div style="line-height:24px;vertical-align:middle;" data-reactid="136">Standard Template Library</div></div></div><span data-reactid="137"></span></li><li style="position:relative;" data-reactid="138"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="139"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="140"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="141"><svg height="14" width="14" data-reactid="142"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="143"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="144"><div style="line-height:24px;vertical-align:middle;" data-reactid="145">Smart pointer</div></div></div><span data-reactid="146"></span></li><li style="position:relative;" data-reactid="147"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="148"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="149"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="150"><svg height="14" width="14" data-reactid="151"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="152"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="153"><div style="line-height:24px;vertical-align:middle;" data-reactid="154">Quản lý mã nguồn</div></div></div><span data-reactid="155"></span></li><li style="position:relative;" data-reactid="156"><div style="cursor:pointer;position:relative;padding:0px 5px;display:block;" data-reactid="157"><div style="position:relative;display:inline-block;vertical-align:top;margin-left:-5px;height:24px;width:24px;" data-reactid="158"><div style="position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;height:14px;" data-reactid="159"><svg height="14" width="14" data-reactid="160"><polygon points="0,0 0,14 14,7" style="fill:rgba(26, 187, 156, 0.5);stroke-width:0;" data-reactid="161"></polygon></svg></div></div><div style="display:inline-block;vertical-align:top;color:#242a31;" data-reactid="162"><div style="line-height:24px;vertical-align:middle;" data-reactid="163">Một số feature trong C++11, C++14</div></div></div><span data-reactid="164"></span></li></ul></span></li></ul></div><div class="_3eRtW" data-reactid="165"><span class="SVGInline" data-reactid="166"><?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg class="SVGInline-svg" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 396.667 396.667" style="enable-background:new 0 0 396.667 396.667;" xml:space="preserve">
<g>
	<g>
		<path d="M17,87.833h362.667c9.35,0,17-7.65,17-17s-7.65-17-17-17H17c-9.35,0-17,7.65-17,17C0,80.183,7.65,87.833,17,87.833z"/>
		<path d="M17,215.333h362.667c9.35,0,17-7.65,17-17s-7.65-17-17-17H17c-9.35,0-17,7.65-17,17S7.65,215.333,17,215.333z"/>
		<path d="M17,342.833h362.667c9.35,0,17-7.65,17-17s-7.65-17-17-17H17c-9.35,0-17,7.65-17,17S7.65,342.833,17,342.833z"/>
	</g>
</g>
</svg></span></div></div></div><script>window.__COLLECTION__ = [{"layout":"PageError","route":"404.html","description":"Content here not used, see web_modules/layouts/PageError","__filename":"404.md","__url":"/404.html","__resourceUrl":"/404.html","__dataUrl":"/404.html.f3d82a4d938b593823c37ead979b3b86.json"},{"title":"Cài đặt Code::blocks để lập trình C++ trên Ubuntu/Linux","route":"0/5-cai-dat-code-blocks-de-lap-trinh-c-tren-ubuntu-linux","id":24563,"description":"int main() {   std::cout &lt;&lt; \"Hello World!\"; }","__filename":"generated/24563.md","__url":"/0/5-cai-dat-code-blocks-de-lap-trinh-c-tren-ubuntu-linux/","__resourceUrl":"/0/5-cai-dat-code-blocks-de-lap-trinh-c-tren-ubuntu-linux/index.html","__dataUrl":"/0/5-cai-dat-code-blocks-de-lap-trinh-c-tren-ubuntu-linux/index.html.3ad2186767d90d121ec4cf565f5c1dd8.json"},{"title":"Cài đặt Xcode để lập trình C++ trên Mac OS X","route":"0/5-cai-dat-xcode-de-lap-trinh-c-tren-mac-os-x","id":24606,"description":"int main() {     std::cout &lt;&lt; \"Hello, World!\" &lt;&lt; std::endl;     return 0; }","__filename":"generated/24606.md","__url":"/0/5-cai-dat-xcode-de-lap-trinh-c-tren-mac-os-x/","__resourceUrl":"/0/5-cai-dat-xcode-de-lap-trinh-c-tren-mac-os-x/index.html","__dataUrl":"/0/5-cai-dat-xcode-de-lap-trinh-c-tren-mac-os-x/index.html.8c393057c45fd132c8e63270c6b51de9.json"},{"title":"Cài đặt Visual Studio 2015 để lập trình C++ trên Windows","route":"0/5-cai-dat-visual-studio-2015-de-lap-trinh-c-tren-windows","id":24768,"description":"","__filename":"generated/24768.md","__url":"/0/5-cai-dat-visual-studio-2015-de-lap-trinh-c-tren-windows/","__resourceUrl":"/0/5-cai-dat-visual-studio-2015-de-lap-trinh-c-tren-windows/index.html","__dataUrl":"/0/5-cai-dat-visual-studio-2015-de-lap-trinh-c-tren-windows/index.html.33b7f229e1d93f466b19cd278ce026bd.json"},{"title":"0.0 Giới thiệu về series tutorial","route":"0/0-gioi-thieu-ve-series-tutorial","id":29402,"description":"Tóm tắt về bản thân  Minh tên Lê Trần Đạt, 28 tuổi, là lập trình viên lập trình nhúng, ngoài làm việc mình thích dạy học online và viết. Tự…","__filename":"generated/29402.md","__url":"/0/0-gioi-thieu-ve-series-tutorial/","__resourceUrl":"/0/0-gioi-thieu-ve-series-tutorial/index.html","__dataUrl":"/0/0-gioi-thieu-ve-series-tutorial/index.html.078c42a7bcb638e7a6288e3b5eca8db0.json"},{"title":"0.1 Giới thiệu về ngôn ngữ lập trình","route":"0/1-gioi-thieu-ve-ngon-ngu-lap-trinh","id":29425,"description":"","__filename":"generated/29425.md","__url":"/0/1-gioi-thieu-ve-ngon-ngu-lap-trinh/","__resourceUrl":"/0/1-gioi-thieu-ve-ngon-ngu-lap-trinh/index.html","__dataUrl":"/0/1-gioi-thieu-ve-ngon-ngu-lap-trinh/index.html.9809f133b2b8d62313a69257668cb67b.json"},{"title":"0.2 Giới thiệu về ngôn ngữ lập trình C++","route":"0/2-gioi-thieu-ve-ngon-ngu-lap-trinh-c","id":29448,"description":"","__filename":"generated/29448.md","__url":"/0/2-gioi-thieu-ve-ngon-ngu-lap-trinh-c/","__resourceUrl":"/0/2-gioi-thieu-ve-ngon-ngu-lap-trinh-c/index.html","__dataUrl":"/0/2-gioi-thieu-ve-ngon-ngu-lap-trinh-c/index.html.c812ae7d3909d89717f7e886ac243ab3.json"},{"title":"0.4 Giới thiệu môi trường phát triển ứng dụng C++","route":"0/4-gioi-thieu-moi-truong-phat-trien-ung-dung-c","id":29503,"description":"","__filename":"generated/29503.md","__url":"/0/4-gioi-thieu-moi-truong-phat-trien-ung-dung-c/","__resourceUrl":"/0/4-gioi-thieu-moi-truong-phat-trien-ung-dung-c/index.html","__dataUrl":"/0/4-gioi-thieu-moi-truong-phat-trien-ung-dung-c/index.html.2c25af91e3aa61d907d4da959782452c.json"},{"title":"1.0 Viết chương trình đầu tiên","route":"1/0-viet-chuong-trinh-dau-tien","id":29504,"description":"Các bạn sẽ thấy nhiều hàm main có cách khai báo khác nhau. Nhưng với việc bạn là người mới bắt đầu học C++, mình khuyến nghị các bạn nên sử…","__filename":"generated/29504.md","__url":"/1/0-viet-chuong-trinh-dau-tien/","__resourceUrl":"/1/0-viet-chuong-trinh-dau-tien/index.html","__dataUrl":"/1/0-viet-chuong-trinh-dau-tien/index.html.a512d65564a3c061c7f754360a019b46.json"},{"title":"1.1 Cấu trúc cơ bản của một chương trình C++","route":"1/1-cau-truc-co-ban-cua-mot-chuong-trinh-c","id":29527,"description":"\\#include &lt;iostream> using namespace std; int main()\t{ \t// We write some code inside main function. } } / We can put comment everywhere…","__filename":"generated/29527.md","__url":"/1/1-cau-truc-co-ban-cua-mot-chuong-trinh-c/","__resourceUrl":"/1/1-cau-truc-co-ban-cua-mot-chuong-trinh-c/index.html","__dataUrl":"/1/1-cau-truc-co-ban-cua-mot-chuong-trinh-c/index.html.8df49c7894cffb0fcf8925108166f28e.json"},{"title":"1.10 Độ ưu tiên của các toán tử","route":"1/10-do-uu-tien-cua-cac-toan-tu","id":29574,"description":"","__filename":"generated/29574.md","__url":"/1/10-do-uu-tien-cua-cac-toan-tu/","__resourceUrl":"/1/10-do-uu-tien-cua-cac-toan-tu/index.html","__dataUrl":"/1/10-do-uu-tien-cua-cac-toan-tu/index.html.7a47c8f2c1a6101a3700bbc2c0ee315e.json"},{"title":"0.3 Các công đoạn phát triển của một chương trình C++","route":"0/3-cac-cong-doan-phat-trien-cua-mot-chuong-trinh-c","id":29449,"description":"","__filename":"generated/29449.md","__url":"/0/3-cac-cong-doan-phat-trien-cua-mot-chuong-trinh-c/","__resourceUrl":"/0/3-cac-cong-doan-phat-trien-cua-mot-chuong-trinh-c/index.html","__dataUrl":"/0/3-cac-cong-doan-phat-trien-cua-mot-chuong-trinh-c/index.html.f0b19108e622a8c6734cb0d5743e5745.json"},{"title":"1.2 Lệnh, khối lệnh, từ khóa","route":"1/2-lenh-khoi-lenh-tu-khoa","id":29575,"description":"Những dòng lệnh bên trong thân hàm main. (Có thể có hoặc không) Những dòng comment. (Có thể có hoặc không) Tích hợp thư viện và không gian…","__filename":"generated/29575.md","__url":"/1/2-lenh-khoi-lenh-tu-khoa/","__resourceUrl":"/1/2-lenh-khoi-lenh-tu-khoa/index.html","__dataUrl":"/1/2-lenh-khoi-lenh-tu-khoa/index.html.7475fb0565b3dc36b5f6c2b16530378c.json"},{"title":"1.4 Biến và các kiểu dữ liệu trong C++","route":"1/4-bien-va-cac-kieu-du-lieu-trong-c","id":29935,"description":"float valueFloat = 5.394; // (2) Xin hệ điều hành thêm một vùng nhớ để chứa 1 số thực string myName = \"Minh Vu\"; // (3) Biến này chứa được…","__filename":"generated/29935.md","__url":"/1/4-bien-va-cac-kieu-du-lieu-trong-c/","__resourceUrl":"/1/4-bien-va-cac-kieu-du-lieu-trong-c/index.html","__dataUrl":"/1/4-bien-va-cac-kieu-du-lieu-trong-c/index.html.13c577638c6f91eda9b5863c77255544.json"},{"title":"1.3 Sử dụng các lệnh liên quan đến xuất dữ liệu","route":"1/3-su-dung-cac-lenh-lien-quan-den-xuat-du-lieu","id":29796,"description":"","__filename":"generated/29796.md","__url":"/1/3-su-dung-cac-lenh-lien-quan-den-xuat-du-lieu/","__resourceUrl":"/1/3-su-dung-cac-lenh-lien-quan-den-xuat-du-lieu/index.html","__dataUrl":"/1/3-su-dung-cac-lenh-lien-quan-den-xuat-du-lieu/index.html.736841fb7471e11813ab50bf85285809.json"},{"title":"1.5 Nhập và xuất dữ liệu","route":"1/5-nhap-va-xuat-du-lieu","id":29936,"description":"","__filename":"generated/29936.md","__url":"/1/5-nhap-va-xuat-du-lieu/","__resourceUrl":"/1/5-nhap-va-xuat-du-lieu/index.html","__dataUrl":"/1/5-nhap-va-xuat-du-lieu/index.html.ef6e11684dfcb7f6b992aba2c8e21426.json"},{"title":"1.6 Hằng số","route":"1/6-hang-so","id":29938,"description":"","__filename":"generated/29938.md","__url":"/1/6-hang-so/","__resourceUrl":"/1/6-hang-so/index.html","__dataUrl":"/1/6-hang-so/index.html.f3ddc6bdde6d54a411e4b79e348d0572.json"},{"title":"1.7 Phạm vi của biến","route":"1/7-pham-vi-cua-bien","id":29939,"description":"int value = 1; int main()\t{ }","__filename":"generated/29939.md","__url":"/1/7-pham-vi-cua-bien/","__resourceUrl":"/1/7-pham-vi-cua-bien/index.html","__dataUrl":"/1/7-pham-vi-cua-bien/index.html.7b8e3af7da9532eb3642eb19b7367ed9.json"},{"title":"1.8 Các phép toán cơ bản","route":"1/8-cac-phep-toan-co-ban","id":29944,"description":"int another_variable = 3; variable = another_variable \\* 2; variable = variable + 1; //tăng giá trị biến variable lên 1. variable =…","__filename":"generated/29944.md","__url":"/1/8-cac-phep-toan-co-ban/","__resourceUrl":"/1/8-cac-phep-toan-co-ban/index.html","__dataUrl":"/1/8-cac-phep-toan-co-ban/index.html.e7174a44027feba3c434a4373886310e.json"},{"title":"1.9 Toán tử tăng giảm","route":"1/9-toan-tu-tang-giam","id":29945,"description":"","__filename":"generated/29945.md","__url":"/1/9-toan-tu-tang-giam/","__resourceUrl":"/1/9-toan-tu-tang-giam/index.html","__dataUrl":"/1/9-toan-tu-tang-giam/index.html.17809ba92bb7526bb6d72300ea06de47.json"},{"title":"2.0 Boolean","route":"2/0-boolean","id":29992,"description":"int a = 2, b = 4; a \\* 3 != b; //đúng int main() { \tcout &lt;&lt; true &lt;&lt; endl; \tcout &lt;&lt; false &lt;&lt; endl; } int main() {…","__filename":"generated/29992.md","__url":"/2/0-boolean/","__resourceUrl":"/2/0-boolean/index.html","__dataUrl":"/2/0-boolean/index.html.62f9a66039eff1016579fc6484f79273.json"},{"title":"2.1 Giới thiệu một số cấu trúc điều khiển","route":"2/1-gioi-thieu-mot-so-cau-truc-dieu-khien","id":30007,"description":"int main() { \tcout &lt;&lt; \"This line is printed out.\" &lt;&lt; endl; \texit(-1); //Terminate and return -1 to operating system.  \tcout…","__filename":"generated/30007.md","__url":"/2/1-gioi-thieu-mot-so-cau-truc-dieu-khien/","__resourceUrl":"/2/1-gioi-thieu-mot-so-cau-truc-dieu-khien/index.html","__dataUrl":"/2/1-gioi-thieu-mot-so-cau-truc-dieu-khien/index.html.1d4fd6576fff1c9f6ebbde9296cb7ccf.json"},{"title":"2.2 if statements","route":"2/2-if-statements","id":30008,"description":"} } if(value >= 0) { \tcout &lt;&lt; \"Positive number\" &lt;&lt; endl; } if (value >= 0) { \tcout &lt;&lt; \"Positive number\" &lt;&lt; endl; }…","__filename":"generated/30008.md","__url":"/2/2-if-statements/","__resourceUrl":"/2/2-if-statements/index.html","__dataUrl":"/2/2-if-statements/index.html.58e985aebd494c11dc0d189c7f303f03.json"},{"title":"2.3 switch case statements","route":"2/3-switch-case-statements","id":30009,"description":"} }","__filename":"generated/30009.md","__url":"/2/3-switch-case-statements/","__resourceUrl":"/2/3-switch-case-statements/index.html","__dataUrl":"/2/3-switch-case-statements/index.html.51348d4d78f70d37586bb9c11de9341f.json"},{"title":"3.0 Vòng lặp while","route":"3/0-vong-lap-while","id":30011,"description":"} while (score &lt; 4) { \tcount++; \tcout &lt;&lt; \"Learn C++ programming language...\" &lt;&lt; endl; \tcout &lt;&lt; \"Enter your final…","__filename":"generated/30011.md","__url":"/3/0-vong-lap-while/","__resourceUrl":"/3/0-vong-lap-while/index.html","__dataUrl":"/3/0-vong-lap-while/index.html.ca3b73cc92989d89c9963bb13aeaa718.json"},{"title":"3.2 Vòng lặp for","route":"3/2-vong-lap-for","id":30013,"description":"}","__filename":"generated/30013.md","__url":"/3/2-vong-lap-for/","__resourceUrl":"/3/2-vong-lap-for/index.html","__dataUrl":"/3/2-vong-lap-for/index.html.91200558d1e346b99f3bfe6615546b0d.json"},{"title":"3.1 Vòng lặp do-while","route":"3/1-vong-lap-do-while","id":30012,"description":"} const int ID = 123; const int password = 123456; int main() { \t//................. }","__filename":"generated/30012.md","__url":"/3/1-vong-lap-do-while/","__resourceUrl":"/3/1-vong-lap-do-while/index.html","__dataUrl":"/3/1-vong-lap-do-while/index.html.9652947ce2cac76fc244291dfe0e7da9.json"},{"title":"3.3 từ khóa break và continue","route":"3/3-tu-khoa-break-va-continue","id":30014,"description":"} } }","__filename":"generated/30014.md","__url":"/3/3-tu-khoa-break-va-continue/","__resourceUrl":"/3/3-tu-khoa-break-va-continue/index.html","__dataUrl":"/3/3-tu-khoa-break-va-continue/index.html.ce5d9d1bafbf829b21faafe2d437e44f.json"},{"title":"4.0 Sử dụng thư viện cstdint","route":"4/0-su-dung-thu-vien-cstdint","id":30016,"description":"int main()\t{ } //in ra kết quả là giá trị lớn nhất của 5 số vừa nhập //in ra kết quả là giá trị nhỏ nhất của 5 số vừa nhập int main()\t {…","__filename":"generated/30016.md","__url":"/4/0-su-dung-thu-vien-cstdint/","__resourceUrl":"/4/0-su-dung-thu-vien-cstdint/index.html","__dataUrl":"/4/0-su-dung-thu-vien-cstdint/index.html.a2801fa4ada10c23f504f07e4ee78b63.json"},{"title":"4.1 Kiểu kí tự","route":"4/1-kieu-ki-tu","id":30018,"description":"//check if there is any character exist in stdin file object if (!cin.eof())\t{ \tcout &lt;&lt; \"There are some character more in stdin file…","__filename":"generated/30018.md","__url":"/4/1-kieu-ki-tu/","__resourceUrl":"/4/1-kieu-ki-tu/index.html","__dataUrl":"/4/1-kieu-ki-tu/index.html.3d3eff45a05d59492b7b40b7e7817293.json"},{"title":"4.2 Ép kiểu dữ liệu","route":"4/2-ep-kieu-du-lieu","id":30019,"description":"","__filename":"generated/30019.md","__url":"/4/2-ep-kieu-du-lieu/","__resourceUrl":"/4/2-ep-kieu-du-lieu/index.html","__dataUrl":"/4/2-ep-kieu-du-lieu/index.html.2ce390588cf4f5b31eb1090272f305c3.json"},{"title":"4.3 auto và decltype","route":"4/3-auto-va-decltype","id":30020,"description":"// compare the type of n with type int32_t if (typeid(int32_t) == typeid(n)) \tcout &lt;&lt; \"n is an object of type int32_t\" &lt;&lt; endl;…","__filename":"generated/30020.md","__url":"/4/3-auto-va-decltype/","__resourceUrl":"/4/3-auto-va-decltype/index.html","__dataUrl":"/4/3-auto-va-decltype/index.html.0d8f1c6d9c4f8f1eff25628a38272254.json"},{"title":"4.4 Địa chỉ của biến","route":"4/4-dia-chi-cua-bien","id":30022,"description":"cout &lt;&lt; \"Value of var: \" &lt;&lt; var &lt;&lt; endl; cout &lt;&lt; \"Value of var_reference: \" &lt;&lt; var_reference &lt;&lt; endl;…","__filename":"generated/30022.md","__url":"/4/4-dia-chi-cua-bien/","__resourceUrl":"/4/4-dia-chi-cua-bien/index.html","__dataUrl":"/4/4-dia-chi-cua-bien/index.html.7700a863d95ebd2c72f590db3ae556c8.json"},{"title":"5.0 Mảng một chiều","route":"5/0-mang-mot-chieu","id":30080,"description":"//another way num_of_elements = sizeof(d_values) / sizeof(d_values[0]); cout &lt;&lt; \"Number of elements = \" &lt;&lt; num_of_elements…","__filename":"generated/30080.md","__url":"/5/0-mang-mot-chieu/","__resourceUrl":"/5/0-mang-mot-chieu/index.html","__dataUrl":"/5/0-mang-mot-chieu/index.html.2bdadf3c58a38e337057a0de9d3374f6.json"},{"title":"5.1 Các thao tác cơ bản với mảng một chiều","route":"5/1-cac-thao-tac-co-ban-voi-mang-mot-chieu","id":30082,"description":"int32_t arr[ARRAY_SIZE];\t int32_t arr_clone[ARRAY_SIZE]; } } int main() { \tchar ch_array\\[] = { 'L', 'e', 'T', 'r', 'a', 'n', 'D', 'a',…","__filename":"generated/30082.md","__url":"/5/1-cac-thao-tac-co-ban-voi-mang-mot-chieu/","__resourceUrl":"/5/1-cac-thao-tac-co-ban-voi-mang-mot-chieu/index.html","__dataUrl":"/5/1-cac-thao-tac-co-ban-voi-mang-mot-chieu/index.html.c358cb5702d7e0848c1d0fcafea76326.json"},{"title":"5.2 Thư viện array trong STL","route":"5/2-thu-vien-array-trong-stl","id":30083,"description":"//Access to all of elements of arr object for (int32_t index = 0; index &lt;= arr.size() - 1; index++) { \tcout &lt;&lt; arr[index] &lt;&lt;…","__filename":"generated/30083.md","__url":"/5/2-thu-vien-array-trong-stl/","__resourceUrl":"/5/2-thu-vien-array-trong-stl/index.html","__dataUrl":"/5/2-thu-vien-array-trong-stl/index.html.f6855e3cf847058a20cddbfbd1924e9a.json"},{"title":"5.3 Mảng hai chiều","route":"5/3-mang-hai-chieu","id":30085,"description":"for(int row = 0; row &lt; 3; row++) { \tfor(int col = 0; col &lt; 4; col++) \t{ \t\tcout &lt;&lt; board[row][col] &lt;&lt; \" \"; \t} \tcout…","__filename":"generated/30085.md","__url":"/5/3-mang-hai-chieu/","__resourceUrl":"/5/3-mang-hai-chieu/index.html","__dataUrl":"/5/3-mang-hai-chieu/index.html.20eabc78d6c5ccd506f5e0a0d9bc1987.json"},{"title":"5.4 Các thao tác cơ bản với mảng hai chiều","route":"5/4-cac-thao-tac-co-ban-voi-mang-hai-chieu","id":30086,"description":"} }","__filename":"generated/30086.md","__url":"/5/4-cac-thao-tac-co-ban-voi-mang-hai-chieu/","__resourceUrl":"/5/4-cac-thao-tac-co-ban-voi-mang-hai-chieu/index.html","__dataUrl":"/5/4-cac-thao-tac-co-ban-voi-mang-hai-chieu/index.html.d255b4de5fe60dec619e7ce656009b5a.json"},{"title":"6.0 Mảng kí tự","route":"6/0-mang-ki-tu","id":30090,"description":"cout &lt;&lt; \"Enter your full name: \"; cin >> full_name; cout &lt;&lt; \"Your full name is \" &lt;&lt; full_name &lt;&lt; endl; cout…","__filename":"generated/30090.md","__url":"/6/0-mang-ki-tu/","__resourceUrl":"/6/0-mang-ki-tu/index.html","__dataUrl":"/6/0-mang-ki-tu/index.html.c07e54b9b2919b7ae2f406f37d0fbed3.json"},{"title":"6.1 Các thao tác cơ bản với mảng kí tự","route":"6/1-cac-thao-tac-co-ban-voi-mang-ki-tu","id":30091,"description":"memset(foo, '-', 7); cout &lt;&lt; foo &lt;&lt; endl; \\-------every programmer should know memset! strcpy(str_destination, str_source);…","__filename":"generated/30091.md","__url":"/6/1-cac-thao-tac-co-ban-voi-mang-ki-tu/","__resourceUrl":"/6/1-cac-thao-tac-co-ban-voi-mang-ki-tu/index.html","__dataUrl":"/6/1-cac-thao-tac-co-ban-voi-mang-ki-tu/index.html.f0846f159064ae244ee4452151734f0f.json"},{"title":"6.2 Thư viện string trong C++","route":"6/2-thu-vien-string-trong-c","id":30092,"description":"//......... string my_string; string temp_string(\"What the hell is going on?\"); string one_more = temp_string; string…","__filename":"generated/30092.md","__url":"/6/2-thu-vien-string-trong-c/","__resourceUrl":"/6/2-thu-vien-string-trong-c/index.html","__dataUrl":"/6/2-thu-vien-string-trong-c/index.html.c5528a05ca23fbe3ff253526b42ee2f6.json"},{"title":"7.0 Làm quen với khái niệm function","route":"7/0-lam-quen-voi-khai-niem-function","id":30132,"description":"if(strlen(str1) == strlen(str2))\t{ \t//do something } void introduce() { \tcout &lt;&lt; \"Hello!\" &lt;&lt; endl; \tcout &lt;&lt; \"I'm a…","__filename":"generated/30132.md","__url":"/7/0-lam-quen-voi-khai-niem-function/","__resourceUrl":"/7/0-lam-quen-voi-khai-niem-function/index.html","__dataUrl":"/7/0-lam-quen-voi-khai-niem-function/index.html.6701f9806c1a33418b356bcbfebc4392.json"},{"title":"7.1 Thiết kế chương trình dựa trên khái niệm function","route":"7/1-thiet-ke-chuong-trinh-dua-tren-khai-niem-function","id":30133,"description":"} } float subtraction(float value1, float value2) { \treturn value1 - value2; } float multiplication(float value1, float value2) { \treturn…","__filename":"generated/30133.md","__url":"/7/1-thiet-ke-chuong-trinh-dua-tren-khai-niem-function/","__resourceUrl":"/7/1-thiet-ke-chuong-trinh-dua-tren-khai-niem-function/index.html","__dataUrl":"/7/1-thiet-ke-chuong-trinh-dua-tren-khai-niem-function/index.html.0dd052d16304cb05be843573b6ec0e45.json"},{"title":"7.2 Truyền đối số cho hàm là giá trị hoặc tham chiếu","route":"7/2-truyen-doi-so-cho-ham-la-gia-tri-hoac-tham-chieu","id":30319,"description":"} } int main() { \tint argument; \tcout &lt;&lt; \"Address of argument: \" &lt;&lt; &argument &lt;&lt; endl;…","__filename":"generated/30319.md","__url":"/7/2-truyen-doi-so-cho-ham-la-gia-tri-hoac-tham-chieu/","__resourceUrl":"/7/2-truyen-doi-so-cho-ham-la-gia-tri-hoac-tham-chieu/index.html","__dataUrl":"/7/2-truyen-doi-so-cho-ham-la-gia-tri-hoac-tham-chieu/index.html.3219ee44dcef6a14dae07111a5c0abf3.json"},{"title":"7.3 Hàm trả về giá trị hoặc tham chiếu","route":"7/3-ham-tra-ve-gia-tri-hoac-tham-chieu","id":30381,"description":"// .............. // function call int result = doubleValue(10); // ................ // function call int & myRef = returnReference(); for…","__filename":"generated/30381.md","__url":"/7/3-ham-tra-ve-gia-tri-hoac-tham-chieu/","__resourceUrl":"/7/3-ham-tra-ve-gia-tri-hoac-tham-chieu/index.html","__dataUrl":"/7/3-ham-tra-ve-gia-tri-hoac-tham-chieu/index.html.4288591cda8969c5c9199b250877f786.json"},{"title":"7.4 Tham số mặc định, tham số hằng","route":"7/4-tham-so-mac-dinh-tham-so-hang","id":30382,"description":"int main() { \tstring non_const_msg = \"This is non-const message\"; \tconst string const_msg = \"This is const message\"; } int main() { }","__filename":"generated/30382.md","__url":"/7/4-tham-so-mac-dinh-tham-so-hang/","__resourceUrl":"/7/4-tham-so-mac-dinh-tham-so-hang/index.html","__dataUrl":"/7/4-tham-so-mac-dinh-tham-so-hang/index.html.b234bc219b3b3db4f46f8d654d7af624.json"},{"title":"7.5 Function overloading","route":"7/5-function-overloading","id":30477,"description":"float addFloat(float f1, float f2) { \treturn f1 + f2; } float add(float f1, float f2) { \treturn f1 + f2; } print(0); print('a'); print('a');","__filename":"generated/30477.md","__url":"/7/5-function-overloading/","__resourceUrl":"/7/5-function-overloading/index.html","__dataUrl":"/7/5-function-overloading/index.html.5657ec584a875acb4601350f19853ed3.json"},{"title":"8.0 Con trỏ","route":"8/0-con-tr","id":30541,"description":"cout &lt;&lt; &i1 &lt;&lt; endl;    //get address of i1 cout &lt;&lt; &i_ref &lt;&lt; endl; //get address of i_ref cout &lt;&lt; n &lt;&lt;…","__filename":"generated/30541.md","__url":"/8/0-con-tr/","__resourceUrl":"/8/0-con-tr/index.html","__dataUrl":"/8/0-con-tr/index.html.a46c66f365403503c34cafdc9863cfa3.json"},{"title":"8.1 Toán tử tăng, giảm dùng cho con trỏ","route":"8/1-toan-tu-tang-giam-dung-cho-con-tr","id":30699,"description":"cout &lt;&lt; \"Before decreased: \" &lt;&lt; ptr &lt;&lt; endl; ptr--; cout &lt;&lt; \" After decreased: \" &lt;&lt; ptr &lt;&lt; endl; cout…","__filename":"generated/30699.md","__url":"/8/1-toan-tu-tang-giam-dung-cho-con-tr/","__resourceUrl":"/8/1-toan-tu-tang-giam-dung-cho-con-tr/index.html","__dataUrl":"/8/1-toan-tu-tang-giam-dung-cho-con-tr/index.html.cce9500249671524aec88406806baa9e.json"},{"title":"8.2 Con trỏ và mảng một chiều","route":"8/2-con-tr-va-mang-mot-chieu","id":30788,"description":"//show address of the first element of arr cout &lt;&lt; &arr[0] &lt;&lt; endl; //show address of the first element of arr cout &lt;&lt;…","__filename":"generated/30788.md","__url":"/8/2-con-tr-va-mang-mot-chieu/","__resourceUrl":"/8/2-con-tr-va-mang-mot-chieu/index.html","__dataUrl":"/8/2-con-tr-va-mang-mot-chieu/index.html.3c8778e4780dd872224eef1cc8f11097.json"},{"title":"8.3 Con trỏ và mảng kí tự","route":"8/3-con-tr-va-mang-ki-tu","id":30876,"description":"p_name[1] = 'E'; cout &lt;&lt; my_name &lt;&lt; endl; cout &lt;&lt; p_name &lt;&lt; endl; } \"Le Tran Dat\"[1] = 'E'; //this line will make…","__filename":"generated/30876.md","__url":"/8/3-con-tr-va-mang-ki-tu/","__resourceUrl":"/8/3-con-tr-va-mang-ki-tu/index.html","__dataUrl":"/8/3-con-tr-va-mang-ki-tu/index.html.dc406539fbe2db6bafb4f3a63ad20fbc.json"},{"title":"8.4 Cấp phát bộ nhớ động","route":"8/4-cap-phat-bo-nho-dong","id":31145,"description":"} } //using memory area at p //and then set it free delete p; delete p; //keep using that memory area \\*p = 10; cout &lt;&lt; p &lt;&lt;…","__filename":"generated/31145.md","__url":"/8/4-cap-phat-bo-nho-dong/","__resourceUrl":"/8/4-cap-phat-bo-nho-dong/index.html","__dataUrl":"/8/4-cap-phat-bo-nho-dong/index.html.e0fca4aed8a1bfd6079218b8f9cd5649.json"},{"title":"8.5 Con trỏ và hằng","route":"8/5-con-tr-va-hang","id":31355,"description":"int value1 = 5; ptr = &value1; int value2 = 10; ptr = &value2; &ptr = 10; //compile error int otherValue = 10; ptr = &otherValue; //compile…","__filename":"generated/31355.md","__url":"/8/5-con-tr-va-hang/","__resourceUrl":"/8/5-con-tr-va-hang/index.html","__dataUrl":"/8/5-con-tr-va-hang/index.html.9717e378d7312e77dd0af404f3ce878a.json"},{"title":"8.6 Con trỏ void","route":"8/6-con-tr-void","id":31625,"description":"int \\*iArr = new int[10]; ptr = iArr; delete\\[] iArr; int iPtr = static_cast&lt;int > (vPtr); cout &lt;&lt; \\*iPtr &lt;&lt; endl; int iPtr…","__filename":"generated/31625.md","__url":"/8/6-con-tr-void/","__resourceUrl":"/8/6-con-tr-void/index.html","__dataUrl":"/8/6-con-tr-void/index.html.95810b485beb7091df5fbe0cdad166a6.json"},{"title":"8.8 Con trỏ và hàm","route":"8/8-con-tr-va-ham","id":31810,"description":"int main()\t { \tint iValue = 10; \tfoo(&iValue); } int main() { \tint iValue = 5; \tcout &lt;&lt; \"Value = \" &lt;&lt; iValue &lt;&lt; endl; }…","__filename":"generated/31810.md","__url":"/8/8-con-tr-va-ham/","__resourceUrl":"/8/8-con-tr-va-ham/index.html","__dataUrl":"/8/8-con-tr-va-ham/index.html.807439d811fbe3c25a6fe7de6f440dcd.json"},{"title":"8.9 Con trỏ hàm","route":"8/9-con-tr-ham","id":31959,"description":"int main()\t { \tint n = foo(); } int main() { \tcout &lt;&lt; foo &lt;&lt; endl; } int main() { \tvoid(\\*pSwap) (int &, int &) = swapValue;…","__filename":"generated/31959.md","__url":"/8/9-con-tr-ham/","__resourceUrl":"/8/9-con-tr-ham/index.html","__dataUrl":"/8/9-con-tr-ham/index.html.95b3e8ea543c2c88ac5aed6fae7dd5bc.json"},{"title":"8.10 Phân loại các vùng nhớ (stack & heap ...)","route":"8/10-phan-loai-cac-vung-nho-stack-va-heap","id":32101,"description":"","__filename":"generated/32101.md","__url":"/8/10-phan-loai-cac-vung-nho-stack-va-heap/","__resourceUrl":"/8/10-phan-loai-cac-vung-nho-stack-va-heap/index.html","__dataUrl":"/8/10-phan-loai-cac-vung-nho-stack-va-heap/index.html.f3d953ab58d5d6d7caa9a6825ab85eff.json"},{"title":"8.11 Các vấn đề thường gặp khi sử dụng con trỏ","route":"8/11-cac-van-de-thuong-gap-khi-su-dung-con-tr","id":32133,"description":"} } } char  getName(char fullname) { } int main()\t{ } } } } int main()\t{ } int main() { \tint \\*p = newIntValue(0); } int \\*pTemp = ptr; ptr…","__filename":"generated/32133.md","__url":"/8/11-cac-van-de-thuong-gap-khi-su-dung-con-tr/","__resourceUrl":"/8/11-cac-van-de-thuong-gap-khi-su-dung-con-tr/index.html","__dataUrl":"/8/11-cac-van-de-thuong-gap-khi-su-dung-con-tr/index.html.9b5398e8d66b8730b73fe13cf4859166.json"},{"title":"8.7 Con trỏ trỏ đến con trỏ","route":"8/7-con-tr-tr-den-con-tr","id":32159,"description":"} } } int \\*p_to_p = new int[3]; p_to_p[0] = p1; p_to_p[1] = p2; p_to_p[2] = p3; delete\\[] p_to_p; for(int i = 0; i &lt; 3; i++) {…","__filename":"generated/32159.md","__url":"/8/7-con-tr-tr-den-con-tr/","__resourceUrl":"/8/7-con-tr-tr-den-con-tr/index.html","__dataUrl":"/8/7-con-tr-tr-den-con-tr/index.html.dbbdad030e569dacaac690df24d8d89d.json"},{"title":"9.0 Kiểu liệt kê (enum)","route":"9/0-kieu-liet-ke-enum","id":32760,"description":"enum Color { \tRED, \tGREEN, \tBLUE, \tWHITE }; enum Animal { \tCAT, \tDOG, \tHORSE, \tMONKEY, \tCHICKEN }; } int iValue = LETTER_A; cout &lt;&lt;…","__filename":"generated/32760.md","__url":"/9/0-kieu-liet-ke-enum/","__resourceUrl":"/9/0-kieu-liet-ke-enum/index.html","__dataUrl":"/9/0-kieu-liet-ke-enum/index.html.5bcab9708527435f7e4986ca2293f162.json"},{"title":"9.1 Structs","route":"9/1-structs","id":33291,"description":"struct VietNamPeople { \tint32 ID; \tstd::string name; \tint16 age; \tfloat height; \tfloat weight; \tbool isStudent; }; //................…","__filename":"generated/33291.md","__url":"/9/1-structs/","__resourceUrl":"/9/1-structs/index.html","__dataUrl":"/9/1-structs/index.html.218b89a947ee10e7345fd63f614e71bf.json"},{"title":"9.2 Structs and pointer","route":"9/2-structs-and-pointer","id":33521,"description":"int main() { \tBankAccount myAccount = { 123456789, 50 }; // $50 \tBankAccount \\*pAccount = &myAccount;  } int main() { \tBankAccount…","__filename":"generated/33521.md","__url":"/9/2-structs-and-pointer/","__resourceUrl":"/9/2-structs-and-pointer/index.html","__dataUrl":"/9/2-structs-and-pointer/index.html.3dac4346cb7783e552949ccfe8b270fd.json"},{"title":"11.0 Giới thiệu về STL","route":"11/0-gioi-thieu-ve-stl","id":34001,"description":"","__filename":"generated/34001.md","__url":"/11/0-gioi-thieu-ve-stl/","__resourceUrl":"/11/0-gioi-thieu-ve-stl/index.html","__dataUrl":"/11/0-gioi-thieu-ve-stl/index.html.d381e349b21471222160fc598695cb22.json"},{"title":"11.1 STL containers","route":"11/1-stl-containers","id":34210,"description":"std::vector&lt;\\_\\_int32> vecInt32; std::vector&lt;int32> vec2(5); //gọi phương thức khởi tạo std::vector(size_t \\_Count) với giá trị…","__filename":"generated/34210.md","__url":"/11/1-stl-containers/","__resourceUrl":"/11/1-stl-containers/index.html","__dataUrl":"/11/1-stl-containers/index.html.801d3937ec25c5210d7a3d9a39a6cc9b.json"},{"title":"11.2 STL iterators","route":"11/2-stl-iterators","id":34567,"description":"int main() { \tstd::vector&lt;int> vec; } } for (int i = 0; i &lt; 10; i++) \tvec.push_back(i); std::vector&lt;\\_\\_int32>::iterator iter =…","__filename":"generated/34567.md","__url":"/11/2-stl-iterators/","__resourceUrl":"/11/2-stl-iterators/index.html","__dataUrl":"/11/2-stl-iterators/index.html.d216c2588a5de192610e6d8ed778b63b.json"},{"title":"11.3 STL algorithms","route":"11/3-stl-algorithms","id":34695,"description":"int main() { \tstd::vector&lt;\\_\\_int32> container; } int main() { \tstd::vector&lt;\\_\\_int32> container; } bool isFive(\\_\\_int32 value) {…","__filename":"generated/34695.md","__url":"/11/3-stl-algorithms/","__resourceUrl":"/11/3-stl-algorithms/index.html","__dataUrl":"/11/3-stl-algorithms/index.html.c65846cea782398aef11f85328128365.json"},{"title":"10.0 File và các thao tác cơ bản với file trong C","route":"10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c","id":35276,"description":"int main() { \tconst char filePath = \"C:/Users/ADMIN/Desktop/my_document.txt\"; \tFILE file; } file = fopen(filePath, \"r\"); if (!file)…","__filename":"generated/35276.md","__url":"/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/","__resourceUrl":"/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/index.html","__dataUrl":"/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/index.html.e3b3167fa54cf742d8cdf50a549a00ab.json"},{"title":"10.1 Input/Output stream C++","route":"10/1-input-output-stream-c","id":35321,"description":"","__filename":"generated/35321.md","__url":"/10/1-input-output-stream-c/","__resourceUrl":"/10/1-input-output-stream-c/index.html","__dataUrl":"/10/1-input-output-stream-c/index.html.00778ce867833da4b30657a62f30af1e.json"},{"title":"10.2 Một số thao tác đọc dữ liệu từ File trong C++","route":"10/2-mot-so-thao-tac-doc-du-lieu-tu-file-trong-c","id":35567,"description":"if (input.fail()) { \tstd::cout &lt;&lt; \"Failed to open this file!\" &lt;&lt; std::endl; \treturn -1; } //read or write data in here…","__filename":"generated/35567.md","__url":"/10/2-mot-so-thao-tac-doc-du-lieu-tu-file-trong-c/","__resourceUrl":"/10/2-mot-so-thao-tac-doc-du-lieu-tu-file-trong-c/index.html","__dataUrl":"/10/2-mot-so-thao-tac-doc-du-lieu-tu-file-trong-c/index.html.9b18f400c922148fc3f9493ae1ee3652.json"},{"title":"10.3 Một số thao tác ghi dữ liệu vào File trong C++","route":"10/3-mot-so-thao-tac-ghi-du-lieu-vao-file-trong-c","id":35622,"description":"void writeDataToFile(std::string file) { } void readDataFromFile(std::string file) { } int main() { \tstd::string filePath =…","__filename":"generated/35622.md","__url":"/10/3-mot-so-thao-tac-ghi-du-lieu-vao-file-trong-c/","__resourceUrl":"/10/3-mot-so-thao-tac-ghi-du-lieu-vao-file-trong-c/index.html","__dataUrl":"/10/3-mot-so-thao-tac-ghi-du-lieu-vao-file-trong-c/index.html.c8113e95b02255a9a61577404e412330.json"},{"title":"10.4 Streams for string C++","route":"10/4-streams-for-string-c","id":35649,"description":"std::string strValue; os >> strValue; std::string strValue2; os >> strValue2; // print the numbers separated by a dash std::cout &lt;&lt;…","__filename":"generated/35649.md","__url":"/10/4-streams-for-string-c/","__resourceUrl":"/10/4-streams-for-string-c/index.html","__dataUrl":"/10/4-streams-for-string-c/index.html.88022f6063c4fdfb69941f82e6b53724.json"},{"title":"Khóa học C++","description":"Cạnh tranh với Udemy luôn. Các bạn vào nhập mã REHON_UDEMY Hoặc bấm vào link này http&#x3A;//bit.ly/rehon_udemy Vào đăng ký học rẻ hơn mã…","__filename":"index.md","__url":"/","__resourceUrl":"/index.html","__dataUrl":"/index.html.b5876e909f5a87e4ec2b20bf919bf9fa.json"}];window.__INITIAL_STATE__ = {"pages":{"/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/":{"head":{"title":"10.0 File và các thao tác cơ bản với file trong C","route":"10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c","id":35276,"description":"int main() { \tconst char filePath = \"C:/Users/ADMIN/Desktop/my_document.txt\"; \tFILE file; } file = fopen(filePath, \"r\"); if (!file)…"},"body":"<html><head></head><body><h3>Chào các bạn đang theo dõi khóa học lập trình trực tuyến ngôn ngữ C++.</h3>\n\n<p>Trong bài học này, chúng ta sẽ cùng tìm hiểu về các khái niệm về File và cách để thao tác với File trong ngôn ngữ lập trình C/C++.</p>\n\n<h3>File</h3>\n\n<p>Nếu máy tính của các bạn có ổ cứng, hoặc các bạn có USB hoặc bất kỳ thiết bị lưu trữ nào thì chắc chắn các bạn đã từng làm việc với File. Khi các bạn chơi một game offline, thông tin nhân vật, điểm số, ... sẽ được lưu trữ trong File để khi chương trình game bị tắt đi thì các bạn không phải chơi lại từ đầu. Khi các bạn cài đặt cấu hình cho một phần mềm và tắt đi, cấu hình đó được lưu vào File để lần làm việc tiếp theo sẽ sử dụng. Hay khi các bạn biên dịch một chương trình C++ trên Visual Studio 2015, C++ Compiler của Visual studio sẽ đọc mã nguồn các bạn đã viết trong các file <code>*.cpp</code> để kiểm tra lỗi và dịch chúng sang file <code>*.obj</code>. Ngay cả hệ điều hành Windows mà các bạn đang sử dụng cũng là tập hợp của rất nhiều file được lưu trữ bên trong phân vùng ổ đĩa dùng cho Hệ điều hành...</p>\n\n<p>Đó là một vài ví dụ cho thấy sự tồn tại của File trong máy tính. Vậy thì chúng ta đã thao tác với những File đó như thế nào?</p>\n\n<p>Làm việc với File chúng ta chỉ có các thao tác cơ bản như: tạo file mới, đọc dữ liệu trong file, ghi dữ liệu vào file, xóa file... Và chúng ta làm điều đó hằng ngày, khi chúng ta chơi game, khi xem phim trên máy tính, ... và ngay cả khi chúng ta lập trình, mã nguồn của chúng ta được lưu xuống File mã nguồn khi nhấn tổ hợp phím Ctrl + S.</p>\n\n<p><strong>Theo định nghĩa trên Wikipedia về computer file</strong>: Một file trên máy tính là một tài nguyên dùng để lưu trữ thông tin lâu dài, sử dụng cho các chương trình máy tính.</p>\n\n<p>Cũng giống như việc lưu trữ dữ liệu tạm thời trên RAM, file cũng lưu trữ dữ liệu dưới dạng nhị phân (0 hoặc 1), tuy nhiên tùy vào định dạng của file và cách chuyển đổi của mỗi phần mềm đọc file mà chúng ta có những kiểu thông tin khác nhau. Ví dụ file .png thì được chuyển về dạng hình ảnh, phần mềm Microsoft Word chuyển dãy bit nhị phân về dạng text...</p>\n\n<p><strong>Trong ngôn ngữ lập trình C/C++</strong>: File là kiểu đối tượng, nó xác định một stream và chứa các thông tin cần thiết để điều khiển, bao gồm một con trỏ trỏ đến buffer của nó, các chỉ mục và trạng thái của nó.</p>\n\n<p>Các bạn có thể hiểu File (trong ngôn ngữ lập trình C/C++) là một kiểu đối tượng mà thông qua nó chúng ta có thể thao tác với dữ liệu được lưu trữ bên trong File (chứ không phải là một File trên máy tính).</p>\n\n<p>Để các bạn không bị nhầm lẫn, mình đang nói về kiểu dữ liệu FILE được định nghĩa trong thư viện cstdio (hay stdio.h) mà có thể các bạn đã từng học trong ngôn ngữ C. Chúng ta sẽ học cách sử dụng các Stream để thao tác với file thay vì sử dụng kiểu dữ liệu FILE trong các bài học sau, nhưng mình nghĩ kiểu dữ liệu FILE trong thư viện cstdio cũng có những ưu điểm riêng của nó nên mình không bỏ qua bài học này.</p>\n\n<h3>Làm việc với FILE type trong C/C++</h3>\n\n<p>Trong bài học này, mình sẽ hướng dẫn các bạn thực hiện các thao tác như mở file, đọc và ghi dữ liệu trong file... Chúng ta cần làm việc trên một file cụ thể nào đó nên mình sẽ tạo một file với tên file là <code>my_document.txt</code> trong thư mục Desktop có đường dẫn trên máy mình là: <code>C:/Users/ADMIN/Desktop/my_document.txt</code></p>\n\n<p>Để làm việc với file, chúng ta cần biết vị trí của file (thông qua đường dẫn) để con trỏ kiểu FILE có thể tạo được luồng dữ liệu giữa người dùng và file trên thiết bị lưu trữ.</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;iostream></span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;cstdio></span></span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span>\n</span>{\n\t<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\n\tFILE *file;\n\t\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre>\n\n<h4>Open file</h4>\n\n<p>Để mở một file, các bạn có thể sử dụng hàm fopen được định nghĩa trong thư viện cstdio:</p>\n\n<p></p><pre><code class=\"hljs language-stata\"><span class=\"hljs-keyword\">FILE</span>* fopen(<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *<span class=\"hljs-keyword\">file</span>, <span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *mode);</code></pre>\n\n<p>Hàm fopen cho phép tạo một kết nối đến file với đường dẫn được lưu trữ bởi tham số thứ nhất. Nếu file không tồn tại, file mới sẽ được tạo ra với tên file như trong đường dẫn. Tham số thứ hai xác định kiểu truy cập vào file. Bảng dưới đây liệt kê các mode dùng để mở một file trong C:</p>\n\n<p></p><div class=\"lightbox-wrapper\"><a href=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/0.png?raw=true\" class=\"lightbox\" title=\"0.png?raw=true\"><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/0.png?raw=true\" width=\"690\" height=\"341\"><div class=\"meta\">\n<span class=\"filename\">0.png?raw=true</span><span class=\"informations\">753x373</span><span class=\"expand\"></span>\n</div></a></div><p></p>\n\n<p>Nếu mở file thành công, một địa chỉ của một đối tượng kiểu FILE sẽ được trả về. Nếu mở file thất bại thì trả về NULL.</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\nFILE *file;\n\nfile = fopen(filePath, <span class=\"hljs-string\">\"r\"</span>);\n<span class=\"hljs-keyword\">if</span> (!file)\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Can not open this file\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n<span class=\"hljs-keyword\">else</span>\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"File is opened\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;</code></pre>\n\n<p>Trong đoạn chương trình trên, mình mở file đã tạo sẵn trong thư mục Desktop với mode \"r\" (chỉ dùng để đọc dữ liệu).</p>\n\n<p><strong><em>Các bạn cần lưu ý rằng file trong máy tính tồn tại ở 2 dạng: file văn bản và file bị mã hóa.</em></strong></p>\n\n<p>File văn bản là những file mà các bạn có thể đọc được khi mở bằng các trình soạn thảo văn bản, thông thường những file này được định dạng Unicode (hoặc những định dạng dùng cho văn bản khác). </p>\n\n<p>File bị mã hóa (thường gọi là file nhị phân) không thể đọc được khi mở file bằng các trình soạn thảo văn bản. Sử dụng File bị mã hóa giúp chúng ta bảo mật dữ liệu tốt hơn File văn bản.</p>\n\n<p>Các mode mà mình đã liệt kê ở bảng trên chỉ dùng để thao tác với file văn bản. Khi thao tác với file bị mã hóa (file nhị phân), các bạn cần nối thêm kí tự b (binary) vào ngay sau mode mà các bạn chọn. Ví dụ: \"rb\", \"wb\", \"ab\", \"rb+\", \"r+b\", ...</p>\n\n<h4>Close file</h4>\n\n<p>Sau khi thao tác với file xong, các bạn cần đóng file lại để tránh những lỗi phát sinh ngoài ý muốn. Để đóng file, chúng ta sử dụng hàm fclose:</p>\n\n<p></p><pre><code class=\"hljs language-fortran\"><span class=\"hljs-built_in\">int</span> fclose(<span class=\"hljs-keyword\">FILE</span> *<span class=\"hljs-keyword\">file</span>);</code></pre>\n\n<p>Trong đó, file là con trỏ được dùng để lưu trữ địa chỉ của đối tượng FILE đang mở. Nếu đóng file thành công thì trả về giá trị 0, ngược lại trả về <strong>EOF</strong> (End of file).</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\nFILE *file;\n\nfile = fopen(filePath, <span class=\"hljs-string\">\"r\"</span>);\n<span class=\"hljs-keyword\">if</span> (!file)\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Can not open this file\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n<span class=\"hljs-keyword\">else</span>\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"File is opened\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\nfclose(file);</code></pre>\n\n<p>Hàm fclose sẽ giải phóng tất cả dữ liệu chưa được xử lý trên file nếu chúng vẫn còn lưu trong buffer, đóng file lại, và giải phóng tất cả vùng nhớ mà đối tượng FILE sử dụng.</p>\n\n<h4>Write data to file</h4>\n\n<p>Các bạn đã thực hiện được thao tác mở và đóng file, nhưng lúc này, file mới tạo ra vẫn chưa có dữ liệu nên mình sẽ thực hiện thao tác ghi dữ liệu vào file trước. Để mở file cho chế độ ghi file, chúng ta có các mode \"w\", \"r+\", \"w+\", \"a\", \"a+\". Mình chỉ muốn ghi dữ liệu nên mình sẽ chọn mode \"w\".</p>\n\n<p>Nhưng trước hết, chúng ta nên tách thao tác ghi file ra một hàm riêng có dạng:</p>\n\n<p></p><pre><code class=\"hljs language-gradle\"><span class=\"hljs-keyword\">void</span> writeToFile(<span class=\"hljs-keyword\">FILE</span> *<span class=\"hljs-keyword\">file</span>);</code></pre>\n\n<p>Hàm này sẽ được gọi sau khi mở file và trước khi đóng file.</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\nFILE *file;\n\nfile = fopen(filePath, <span class=\"hljs-string\">\"w\"</span>);\n<span class=\"hljs-keyword\">if</span> (!file)\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Can not open this file\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n<span class=\"hljs-keyword\">else</span>\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"File is opened\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t\nwriteToFile(file);\n\nfclose(file);</code></pre>\n\n<p>Bây giờ, chúng ta chỉ quan tâm đến nội dung bên trong hàm writeToFile.</p>\n\n<p>Để ghi dữ liệu vào file, chúng ta có các hàm đã được định nghĩa sẵn trong thư viện cstdio như sau:</p>\n\n<ul>\n<li>\n<p><strong>fputc:</strong></p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">fputc</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> c, FILE *f)</span></span>;</code></pre>\n<p>Hàm fputc sẽ ghi ký tự có mã ASCII là c vào file được trỏ đến bởi con trỏ f. Giá trị trả về là EOF nếu ghi dữ liệu thất bại, trả về mã ASCII của kí tự được ghi vào nếu thực hiện thành công.</p>\n<p>Ví dụ:</p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">writeToFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">int</span> c = fputc(<span class=\"hljs-string\">'A'</span>, file);\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; c &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n}</code></pre>\n<p>Sau khi chạy chương trình xong, các bạn mở file my_document.txt trên Desktop lên sẽ thấy kí tự 'A' đã được ghi vào, đồng thời trên console cũng in ra mã ASCII của kí tự 'A'.</p>\n</li>\n<li>\n<p><strong>fputs:</strong></p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">fputs</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *str, FILE *f)</span></span>;</code></pre>\n<p>Hàm fputs ghi một C-Style string vào file được trỏ đến bởi con trỏ f cho đến khi gặp kí tự '\\0'.</p>\n<p>Ví dụ:</p>\n<p></p>\n<pre><code class=\"hljs language-gradle\"><span class=\"hljs-keyword\">void</span> writeToFile(<span class=\"hljs-keyword\">FILE</span> *<span class=\"hljs-keyword\">file</span>)\n{\n\t<span class=\"hljs-keyword\">int</span> c = fputs(<span class=\"hljs-string\">\"hello\"</span>, <span class=\"hljs-keyword\">file</span>);\n}</code></pre>\n<p>Sau khi chạy chương trình, các bạn mở file my_document.txt ở thư mục Desktop sẽ thấy kí tự 'A' lúc nãy không còn nữa, thay vào đó là chuỗi kí tự \"hello\".</p>\n</li>\n<li>\n<p><strong>fprintf:</strong></p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">fprintf</span><span class=\"hljs-params\">(FILE *f, <span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *format, ...)</span></span>;</code></pre>\n<p>Hàm fprintf tương tự hàm printf trong ngôn ngữ C. Tuy nhiên, hàm printf được mặc định liên kết với đối tượng FILE có tên là stdout nên sử dụng hàm printf sẽ ghi nội dung ra màn hình.</p>\n<p>Hàm printf tương đương với cách sử dụng <code>fprintf(stdout, format, ...)</code>.</p>\n<p>Nhưng lúc này, chúng ta muốn ghi dữ liệu vào file nên chúng ta sẽ truyền vào tham số thứ nhất là một con trỏ kiểu FILE khác với các đối tượng stdout, stdin hay stderr.</p>\n<p>Cách định dạng cho tham số format trong hàm fprintf cũng giống như hàm printf, các bạn có thể tham khảo ở đây: </p>\n<p><a href=\"http://www.cplusplus.com/reference/cstdio/printf/\">http://www.cplusplus.com/reference/cstdio/printf/</a></p>\n<p>Ví dụ:</p>\n<p></p>\n<pre><code class=\"hljs language-gradle\"><span class=\"hljs-keyword\">void</span> writeToFile(<span class=\"hljs-keyword\">FILE</span> *<span class=\"hljs-keyword\">file</span>)\n{\n\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i = <span class=\"hljs-number\">1</span>; i &#x3C;= <span class=\"hljs-number\">5</span>; i++)\n\t\tfprintf(<span class=\"hljs-keyword\">file</span>, <span class=\"hljs-string\">\"This is an example line %d\\n\"</span>, i);\n}</code></pre>\n<p>Sau khi chạy đoạn chương trình trên, các bạn mở lại file my_document.txt trong thư mục Desktop để xem lại kết quả.</p>\n<p>Sử dụng hàm fprintf giúp chúng ta dễ dàng định dạng cho dữ liệu được ghi vào file, từ đó có thể ghi nhiều dòng vào file bằng vòng lặp nếu các dòng đó có cùng định dạng.</p>\n</li>\n</ul>\n\n<h4>Read data from file</h4>\n\n<p>Đầu tiên mình sẽ tạo một hàm khác có tên là readFromFile như sau:</p>\n\n<p></p><pre><code class=\"hljs language-gradle\"><span class=\"hljs-keyword\">void</span> readFromFile(<span class=\"hljs-keyword\">FILE</span> *<span class=\"hljs-keyword\">file</span>)\n{\n\t<span class=\"hljs-comment\">//read data</span>\n}</code></pre>\n\n<p>Để làm các ví dụ trong phần này, mình sẽ gọi hàm này sau khi đã gọi hàm writeToFile.</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\nFILE *file;\n\nfile = fopen(filePath, <span class=\"hljs-string\">\"w+\"</span>);\n<span class=\"hljs-keyword\">if</span> (!file)\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Can not open this file\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n<span class=\"hljs-keyword\">else</span>\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"File is opened\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\nwriteToFile(file);\nreadFromFile(file);\n\nfclose(file);</code></pre>\n\n<p>Lúc này, file của chúng ta được mở để vừa đọc và ghi file, nên mình sẽ sử dụng mode \"w+\" (hoặc \"r+\").</p>\n\n<p>Và dưới đây là một số hàm được định nghĩa sẵn trong thư viện cstdio hỗ trợ chúng ta đọc dữ liệu văn bản từ file.</p>\n\n<ul>\n<li>\n<p><strong>fgetc:</strong></p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">fgetc</span><span class=\"hljs-params\">(FILE *f)</span></span>;</code></pre>\n<p>Hàm fgetc đọc ra một kí tự trong file, internal file position indicator sẽ chuyển đến kí tự tiếp theo. Giá trị trả về là mã ASCII của kí tự đã đọc được.</p>\n<p>Ví dụ:</p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">readFromFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; (<span class=\"hljs-keyword\">char</span>)fgetc(file) &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n}</code></pre>\n</li>\n<li>\n<p><strong>fgets:</strong></p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">char</span>* <span class=\"hljs-title\">fgets</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">char</span> *buf, <span class=\"hljs-keyword\">int</span> n, FILE *f)</span></span>;</code></pre>\n<p>Hàm fgets đọc từ file ra (n - 1) kí tự, việc đọc dữ liệu sẽ bị dừng nếu đọc được kí tự new line '\\n' hoặc EOF. Chuỗi kí tự đọc được sẽ lưu vào vùng nhớ được quản lý bởi con trỏ buf, nếu đọc dữ liệu thành công thì trả về địa chỉ của buf, ngược lại trả về NULL.</p>\n<p>Ví dụ:<br></p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">readFromFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">char</span> str[<span class=\"hljs-number\">255</span>];\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; fgets(str, <span class=\"hljs-number\">255</span>, file) &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; str &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n}</code></pre>\n<p>Kết quả đọc file được lưu vào mảng kí tự str.</p>\n</li>\n<li>\n<p><strong>fscanf:</strong></p>\n<p>Tương tự như ghi dữ liệu vào file với định dạng cho trước, chúng ta cũng có thể đọc dữ liệu từ file với một định dạng nào đó.</p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">fscanf</span><span class=\"hljs-params\">(FILE *f, <span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *format, ...)</span></span>;</code></pre>\n<p>fscanf cũng hoạt động tương tự hàm scanf trong ngôn ngữ C, tuy nhiên, hàm scanf được thiết lập liên kết mặc định đến file stdin. Như vậy, <code>fscanf(stdin, format, ...)</code> sẽ tương đương với <code>scanf(format, ...)</code>.</p>\n<p>Hàm fscanf cũng hoạt động tương tự scanf nên các bạn có thể tham khảo thêm tại đây:</p>\n<p><a href=\"http://www.cplusplus.com/reference/cstdio/scanf/\">http://www.cplusplus.com/reference/cstdio/scanf/</a></p>\n<p>Ví dụ:</p>\n<p></p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">readFromFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">char</span> str[<span class=\"hljs-number\">255</span>];\n\t<span class=\"hljs-built_in\">fscanf</span>(file, <span class=\"hljs-string\">\"%[^\\n]\"</span>, str);\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; str &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n}</code></pre>\n<p>Lưu ý, sử dụng hàm fscanf không khiến internal file position indicator di chuyển đến các vị trí tiếp theo nên chúng ta cần thêm một số kĩ thuật khác liên quan đến việc di chuyển con trỏ trong file (internal file position indicator).</p>\n</li>\n</ul>\n\n<h4>Reposition stream position indicator</h4>\n\n<p>Ghép các ví dụ ở trên lại, chúng ta có một chương trình đơn giản minh họa cho việc ghi file và đọc từng dòng dữ liệu (line by line) đã được ghi vào file như sau:</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;iostream></span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;string></span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;cstdio></span></span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">writeToFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i = <span class=\"hljs-number\">1</span>; i &#x3C;= <span class=\"hljs-number\">5</span>; i++)\n\t\t<span class=\"hljs-built_in\">fprintf</span>(file, <span class=\"hljs-string\">\"This is an example line %d\\n\"</span>, i);\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">readFromFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">char</span> str[<span class=\"hljs-number\">255</span>];\n\t<span class=\"hljs-keyword\">while</span> (fgets(str, <span class=\"hljs-number\">255</span>, file) != <span class=\"hljs-literal\">NULL</span>)\n\t{\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; str;\n\t}\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span>\n</span>{\n\t<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\n\tFILE *file;\n\n\tfile = fopen(filePath, <span class=\"hljs-string\">\"w+\"</span>);\n\t<span class=\"hljs-keyword\">if</span> (!file)\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Can not open this file\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span>\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"File is opened\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\n\twriteToFile(file);\n\treadFromFile(file);\n\n\tfclose(file);\n\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre>\n\n<p>Tuy nhiên, kết quả cho ra màn hình không như mong muốn.</p>\n\n<p>Nguyên nhân là khi chúng ta gọi hàm writeToFile và truyền vào đó con trỏ file, việc ghi file đã khiến internal file position indicator trỏ đến vị trí cuối cùng trong file. Sau khi quay trở lại hàm main, chúng ta tiếp tục gọi hàm readFromFile với cùng một con trỏ file. Như vậy, lúc chúng ta đọc file thì chúng ta lại bắt đầu đọc tại vị trí kết thúc file.</p>\n\n<p>Để khắc phục điều này, chúng ta cần đóng con trỏ file lại và mở tạo một liên kết mới bằng hàm fopen với mode dùng để đọc file. Tuy nhiên, làm như vậy thì code xử lý của chúng ta sẽ dài hơn. Thư viện cstdio đã hỗ trợ cho chúng ta hàm fseek để thay đổi vị trí trỏ đến trong file của internal file position indicator.</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">fseek</span><span class=\"hljs-params\">(FILE *f, <span class=\"hljs-keyword\">long</span> <span class=\"hljs-keyword\">int</span> offset, <span class=\"hljs-keyword\">int</span> origin)</span></span>;</code></pre>\n\n<p>Trong đó: </p>\n\n<ul>\n<li><p>f là con trỏ trỏ đến đối tượng FILE đang mở.</p></li>\n<li><p>offset là số bytes được cộng thêm tính từ vị trí origin.</p></li>\n<li>\n<p>origin là địa điểm đặt con trỏ trong file:</p>\n<p><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/1.png?raw=true\" width=\"467\" height=\"124\"></p>\n</li>\n</ul>\n\n<p>Như vậy, sau khi gọi hàm writeToFile xong, chúng ta cần di chuyển internal file position indicator về đầu file bằng cách như sau:</p>\n\n<p></p><pre><code class=\"hljs language-lisp\">writeToFile(<span class=\"hljs-name\">file</span>)<span class=\"hljs-comment\">;</span>\nfseek(<span class=\"hljs-name\">file</span>, <span class=\"hljs-number\">0</span>, SEEK_SET)<span class=\"hljs-comment\">;</span>\nreadFromFile(<span class=\"hljs-name\">file</span>)<span class=\"hljs-comment\">;</span></code></pre>\n\n<p>Sau đó chạy chương trình thì thấy dữ liệu in ra màn hình đúng như những gì chúng ta đã ghi vào file.</p>\n\n<h4>Determine size of content of file</h4>\n\n<p>Đôi khi chúng ta cần đọc toàn bộ nội dung của file vào một vùng nhớ trên Heap, chúng ta sẽ cần biết trước kích thước nội dung có trong file để cấp phát đủ vùng nhớ trước khi đọc file. Thư viện cstdio chỉ cung cấp cho chúng ta hàm ftell:</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">long</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">ftell</span><span class=\"hljs-params\">(FILE *f)</span></span>;</code></pre>\n\n<p>Hàm này sẽ trả về vị trí của file indicator đang trỏ đến trong file (số bytes của nội dung file mà indicator đã duyệt qua).</p>\n\n<p>Như vậy, các bạn có thể đọc kích thước của nội dung trong file bằng cách dịch internal file position indicator về vị trí cuối cùng trong file rồi gọi hàm ftell:</p>\n\n<p></p><pre><code class=\"hljs language-fortran\">__int64 size_of_file(<span class=\"hljs-keyword\">FILE</span> *<span class=\"hljs-keyword\">file</span>)\n{\n\tfseek(<span class=\"hljs-keyword\">file</span>, <span class=\"hljs-number\">0</span>, SEEK_END);\n\t__int64 <span class=\"hljs-built_in\">size</span> = ftell(<span class=\"hljs-keyword\">file</span>);\n\tfseek(<span class=\"hljs-keyword\">file</span>, <span class=\"hljs-number\">0</span>, SEEK_SET);\n\t\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">size</span>;\n}</code></pre>\n\n<h4>Binary I/O functions</h4>\n\n<p>Dưới đây là 2 hàm dùng để đọc và ghi dữ liệu chỉ dùng cho mode nhị phân.</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">size_t</span> fwrite(<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">void</span> *ptr, <span class=\"hljs-keyword\">size_t</span> size, <span class=\"hljs-keyword\">size_t</span> count, FILE *f);</code></pre>\n\n<p>Hàm fwrite dùng để ghi dãy bit trong vùng nhớ được quản lý bởi con trỏ ptr vào file đang được trỏ bởi f, size là số bytes sẽ copy từ vùng nhớ của ptr và count là số lần ghi vùng nhớ đó xuống file.</p>\n\n<p>Hàm fwrite không quan tâm vùng nhớ của các bạn có định dạng gì, nó quan tâm kích thước vùng nhớ cần đọc và cứ thế copy tất cả các bits và file, mỗi lần sẽ copy 1 block of bit. </p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">size_t</span> fread(<span class=\"hljs-keyword\">void</span> *ptr, <span class=\"hljs-keyword\">size_t</span> size, <span class=\"hljs-keyword\">size_t</span> count, FILE *f);</code></pre>\n\n<p>Hàm fread sẽ copy count lần block of bits có kích thước là size, đưa vào vùng nhớ được trỏ đến bởi ptr, từ file đang được quản lý bởi f.</p>\n\n<p>Sau khi gọi hàm fread, internal file position indicator sẽ di chuyển tới (size * count) bytes từ vị trí bắt đầu đọc file.</p>\n\n<p>Ví dụ:</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;iostream></span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;cstring></span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;cstdio></span></span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">writeToFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">char</span> *s = <span class=\"hljs-string\">\"Hello everyone!\"</span>;\n\tfwrite(s, <span class=\"hljs-built_in\">strlen</span>(s), <span class=\"hljs-number\">1</span>, file);\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">readFromFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">void</span> *ptr = <span class=\"hljs-keyword\">operator</span> <span class=\"hljs-keyword\">new</span>(<span class=\"hljs-number\">255</span>); <span class=\"hljs-comment\">//allocate 255 bytes on Heap</span>\n\tfread(ptr, <span class=\"hljs-number\">255</span>, <span class=\"hljs-number\">1</span>, file);\n\t(<span class=\"hljs-keyword\">static_cast</span>&#x3C;<span class=\"hljs-keyword\">char</span> *>(ptr))[<span class=\"hljs-number\">255</span>] = <span class=\"hljs-string\">'\\0'</span>;\n\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-keyword\">static_cast</span>&#x3C;<span class=\"hljs-keyword\">char</span> *>(ptr) &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span>\n</span>{\n\t<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\n\tFILE *file;\n\n\tfile = fopen(filePath, <span class=\"hljs-string\">\"w+b\"</span>); <span class=\"hljs-comment\">//use binary mode</span>\n\t<span class=\"hljs-keyword\">if</span> (!file)\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Can not open this file\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span>\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"File is opened\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\n\twriteToFile(file);\n\tfseek(file, <span class=\"hljs-number\">0</span>, SEEK_SET);\n\treadFromFile(file);\n\n\tfclose(file);\n\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre>\n\n<p>Chạy chương trình trên cho ra kết quả là rất nhiều kí tự rác.</p>\n\n<p>Như các bạn thấy, hàm fread đọc đúng 255 bytes trong file để đưa vào vùng nhớ của ptr nên các giá trị thừa xuất hiện. Trong trường hợp này, dùng hàm fread và fwrite không phù hợp. Hàm fread và fwrite thường được dùng để đọc và ghi dữ liệu kiểu struct vào file.</p>\n\n<h4>Write and read structs</h4>\n\n<p>Mình vẫn giữ nguyên cấu trúc chương trinh như trên và chỉ thay đổi code trong hàm writeToFile và readFromFile.</p>\n\n<p>Trước hết, mình tạo một struct đơn giản như sau:</p>\n\n<p></p><pre><code class=\"hljs language-abnf\">struct Employee\n{\n\t__int32 ID<span class=\"hljs-comment\">;</span>\n\tchar name[<span class=\"hljs-number\">50</span>]<span class=\"hljs-comment\">;</span>\n}<span class=\"hljs-comment\">;</span></code></pre>\n\n<p>Kích thước của struct này là 56 bytes (không phải là 54 bytes do cách tổ chức dữ liệu trong struct còn liên quan đến khái niệm struct alignment). Như vậy là mỗi unit có kiểu Employee được tạo ra đều chiếm một vùng nhớ có kích thước 56 bytes.</p>\n\n<p>Các bạn thử tưởng tượng nếu chúng ta sử dụng các hàm ghi file như fputs, fprintf... thì kích thước tên của mỗi người sẽ khác nhau dẫn đến chúng ta không có một định dạng chung để dễ quản lý nhiều Employee trong file. Việc đặt chúng vào trong 1 struct giúp chúng ta đọc và ghi file dễ dàng hơn nhiều.</p>\n\n<p>Dưới đây là một đoạn chương trình mẫu cho việc xử lý file để quản lý 3 Employee:</p>\n\n<p></p><pre><code class=\"hljs language-cpp\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;iostream></span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;cstring></span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;cstdio></span></span>\n\n<span class=\"hljs-keyword\">struct</span> Employee\n{\n\t<span class=\"hljs-number\">__</span>int32 ID;\n\t<span class=\"hljs-keyword\">char</span> name[<span class=\"hljs-number\">50</span>];\n};\n\nEmployee emps[<span class=\"hljs-number\">3</span>] =\n{\n\t{ <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">\"Le Tran Dat\"</span> },\n\t{ <span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">\"Ngo Doan Tuan\"</span> },\n\t{ <span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">\"Le Dinh Huy\"</span> }\n};\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">writeToFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i = <span class=\"hljs-number\">0</span>; i &#x3C; <span class=\"hljs-number\">3</span>; i++)\n\t{\n\t\tfwrite(&#x26;emps[i], <span class=\"hljs-keyword\">sizeof</span>(Employee), <span class=\"hljs-number\">1</span>, file);\n\t}\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">readFromFile</span><span class=\"hljs-params\">(FILE *file)</span>\n</span>{\n\tEmployee emp;\n\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i = <span class=\"hljs-number\">0</span>; i &#x3C; <span class=\"hljs-number\">3</span>; i++)\n\t{\n\t\tfread(&#x26;emp, <span class=\"hljs-keyword\">sizeof</span>(Employee), <span class=\"hljs-number\">1</span>, file);\n\t\t\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; emp.ID &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; emp.name &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"================================\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t}\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span>\n</span>{\n\t<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">char</span> *filePath = <span class=\"hljs-string\">\"C:/Users/ADMIN/Desktop/my_document.txt\"</span>;\n\tFILE *file;\n\n\tfile = fopen(filePath, <span class=\"hljs-string\">\"w+b\"</span>); <span class=\"hljs-comment\">//use binary mode</span>\n\t<span class=\"hljs-keyword\">if</span> (!file)\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Can not open this file\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span>\n\t\t<span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"File is opened\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n\n\twriteToFile(file);\n\tfseek(file, <span class=\"hljs-number\">0</span>, SEEK_SET);\n\treadFromFile(file);\n\n\tfclose(file);\n\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre>\n\n<p>Các bạn chạy thử đoạn chương trình trên để xem kết quả.</p>\n\n<p>Bây giờ chúng ta cùng mở file my_document.txt trong thư mục Desktop để xem thử nội dung trong file như thế nào:</p>\n\n<p></p><div class=\"lightbox-wrapper\"><a href=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/2.png?raw=true\" class=\"lightbox\" title=\"2.png?raw=true\"><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/10-files-streams/10-0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/2.png?raw=true\" width=\"563\" height=\"500\"><div class=\"meta\">\n<span class=\"filename\">2.png?raw=true</span><span class=\"informations\">642x570</span><span class=\"expand\"></span>\n</div></a></div><p></p>\n\n<p>Vậy là nội dung file đã bị mã hóa dưới dạng nhị phân nên không thể đọc hoàn toàn nội dung lưu trong file được.</p>\n\n<p>Việc sử dụng hàm fread và fwrite cho các kiểu dữ liệu struct giúp chúng ta thao tác dễ dàng hơn khi kích thước của các biến struct là giống nhau.</p>\n\n<hr>\n\n<p><strong>Hẹn gặp lại các bạn trong bài học tiếp theo trong khóa học lập trình C++ hướng thực hành.</strong></p>\n\n<p>Mọi ý kiến đóng góp hoặc thắc mắc có thể đặt câu hỏi trực tiếp tại diễn đàn.</p>\n\n<p><a title=\"DayNhauHoc\" class=\"onebox\" target=\"_blank\">www.daynhauhoc.com</a></p>\n</body></html>","__filename":"generated/35276.md","__url":"/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/","__resourceUrl":"/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/index.html","__dataUrl":"/10/0-file-va-cac-thao-tac-co-ban-voi-file-trong-c/index.html.e3b3167fa54cf742d8cdf50a549a00ab.json"}}}</script><script src="/phenomic.browser.e12885045dd3a7adadf1.js"></script></body></html>